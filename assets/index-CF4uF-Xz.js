const __vite__fileDeps=["assets/Root-CxnHY0SQ.js","assets/vendor-OeD0w95h.js","assets/ViewEditToggle-N-VHsqY2.js","assets/Embed-C-0BIdTg.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{b as E,a as P,c as R,$ as v,n as x,r as m,d as L,e as S,j as l,R as _,f as D}from"./vendor-OeD0w95h.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();const B="modulepreload",O=function(o){return"/"+o},h={},b=function(n,c,s){let e=Promise.resolve();if(c&&c.length>0){const t=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),p=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));e=Promise.all(c.map(a=>{if(a=O(a),a in h)return;h[a]=!0;const d=a.endsWith(".css"),w=d?'[rel="stylesheet"]':"";if(!!s)for(let u=t.length-1;u>=0;u--){const f=t[u];if(f.href===a&&(!d||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${w}`))return;const i=document.createElement("link");if(i.rel=d?"stylesheet":B,d||(i.as="script",i.crossOrigin=""),i.href=a,p&&i.setAttribute("nonce",p),document.head.appendChild(i),d)return new Promise((u,f)=>{i.addEventListener("load",u),i.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return e.then(()=>n()).catch(t=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=t,window.dispatchEvent(r),!r.defaultPrevented)throw t})},j=async o=>{const n=await E,c=new TextDecoder,s=n.decompress(R(o));return c.decode(s)},q=async o=>{const n=await E,s=new TextEncoder().encode(o),e=n.compress(s);return P(e)},A=["customFields","state"],y=async({request:o})=>{const c=new URL(o.url).searchParams,s={customFields:{appBridgeMode:"block",jsPath:"",cssPath:""},state:{settings:{}}};for(const e of A){const t=c.get(e);if(t)try{s[e]=JSON.parse(await j(t))}catch{console.error(`Failed to parse ${e} from search parameters`)}}return s};window.React=v;window.ReactDOM=x;const T=m.lazy(()=>b(()=>import("./Root-CxnHY0SQ.js"),__vite__mapDeps([0,1,2])).then(o=>({default:o.Root}))),$=m.lazy(()=>b(()=>import("./Embed-C-0BIdTg.js"),__vite__mapDeps([3,1,2])).then(o=>({default:o.Embed}))),g=document.getElementById("root");if(!g)throw new Error("Root element not found");const k=L(g),C=S([{path:"/v1",children:[{index:!0,loader:y,element:l.jsx(m.Suspense,{fallback:"Loading...",children:l.jsx(T,{})})},{path:"embed",loader:y,element:l.jsx(m.Suspense,{fallback:"Loading embed...",children:l.jsx($,{})})}]},{path:"*",loader:()=>D("/v1")}]);k.render(l.jsx(m.StrictMode,{children:l.jsx(_,{router:C})}));export{q as c};
//# sourceMappingURL=index-CF4uF-Xz.js.map
