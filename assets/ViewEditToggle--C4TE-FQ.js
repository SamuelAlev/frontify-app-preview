import{R as It,r as We,j as Ce,N as Dn}from"./index-D7o63Lyp.js";const Po="/v1?customFields=GyoBsBwHbkzNYnPWo6WxlTrZJic7SiLUKfAuIVJsc045YC9LEw2sBagH0LvBqWQlcdIGAZ9ffXpakPAxwkdgN9ubJ327dMYtZOpa3zt9ebsG0Pxg3Tzri7y9AgDy%2Ffvz58%2FNk9ws34ssTIomkwmdYaUuLU1CkZAcNLjHkMHEoRg0HHt6qGFG1tL9zc3WK86nD6o%2BaqQESkUkDB4TKgY5oIdB8Cgd0MCrkdbUbktZOFKmDfP6Bw%3D%3D&state=G3cCAIzUYs0Z7nQ5p7JfJDsUvjeXpghJiVYsOgfXfGC9%2FIhYW5Q9rawFJ7wFdmbMCb%2BLi2WI2LmCDZc1%2BvL1BxKsTvmHRThVMLhz6TY2gilFnSjBLiiSJf5KJLbYMppuhOJZc%2BdGabXw6Uhiv%2FnR%2FruJSLLzziOWhKbiXSEvIizl7vJarUufs28%2BzdDP%2B3h%2B5%2B8bmuyA9wdoXCcAka9%2BaWVKivlCDyNZjpJk6XQKR6EkkI38BOvMa8UjHpGujziB6FQ2TTMnE08zZlMngK5KxSmLIfUwIlF0nnO5RwvJaZsGp7kOU5al7vryCADRd0EJfnSIkiTXmMxoIZdlMJKXGgrnXyioEOhvkYPLsZlQkkSzjODHNsaKAg8c8k%2F%2BHkm5Yu0Vwgp2%2Fmf%2Ffw%3D%3D",Ln=e=>{let t;const r=new Set,n=(S,E)=>{const v=typeof S=="function"?S(t):S;if(!Object.is(v,t)){const T=t;t=E??(typeof v!="object"||v===null)?v:Object.assign({},t,v),r.forEach(u=>u(t,T))}},o=()=>t,w={setState:n,getState:o,getInitialState:()=>l,subscribe:S=>(r.add(S),()=>r.delete(S))},l=t=e(n,o,w);return w},Oo=(e=>e?Ln(e):Ln),Io=e=>e;function $o(e,t=Io){const r=It.useSyncExternalStore(e.subscribe,It.useCallback(()=>t(e.getState()),[e,t]),It.useCallback(()=>t(e.getInitialState()),[e,t]));return It.useDebugValue(r),r}const Mn=e=>{const t=Oo(e),r=n=>$o(t,n);return Object.assign(r,t),r},Do=(e=>e?Mn(e):Mn),Lo={block:"Block",theme:"Theme"},Zt=Do()(e=>({isEditing:!1,setIsEditing(t){e(()=>({isEditing:t}))},state:{settings:{}},setState(t){e(()=>({state:t}))},settingsStructure:{},setSettingsStructure(t){e(()=>({settingsStructure:t}))},customFields:{appBridgeMode:"block",jsPath:"",cssPath:""},setCustomFields(t){e(()=>({customFields:t}))}}));var Mo={};let Ee;(function(){function e(t,r,n){function o(w,l){if(!r[w]){if(!t[w]){var S=typeof require=="function"&&require;if(!l&&S)return S(w,!0);if(a)return a(w,!0);var E=new Error("Cannot find module '"+w+"'");throw E.code="MODULE_NOT_FOUND",E}var v=r[w]={exports:{}};t[w][0].call(v.exports,function(T){var u=t[w][1][T];return o(u||T)},v,v.exports,e,t,r,n)}return r[w].exports}for(var a=typeof require=="function"&&require,p=0;p<n.length;p++)o(n[p]);return o}return e})()({1:[function(e,t,r){const n=e("./sinon/behavior"),o=e("./sinon/create-sandbox"),a=e("./sinon/util/core/extend"),p=e("./sinon/util/fake-timers"),w=e("./sinon/sandbox"),l=e("./sinon/stub"),S=e("./sinon/promise");t.exports=function(){const v={createSandbox:o,match:e("@sinonjs/samsam").createMatcher,restoreObject:e("./sinon/restore-object"),expectation:e("./sinon/mock-expectation"),timers:p.timers,addBehavior:function(u,c){n.addBehavior(l,u,c)},promise:S},T=new w;return a(T,v)}},{"./sinon/behavior":5,"./sinon/create-sandbox":8,"./sinon/mock-expectation":12,"./sinon/promise":14,"./sinon/restore-object":19,"./sinon/sandbox":20,"./sinon/stub":23,"./sinon/util/core/extend":26,"./sinon/util/fake-timers":40,"@sinonjs/samsam":87}],2:[function(e,t,r){Ee=e("./sinon")},{"./sinon":3}],3:[function(e,t,r){const n=e("./create-sinon-api");t.exports=n()},{"./create-sinon-api":1}],4:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("@sinonjs/commons").calledInOrder,a=e("@sinonjs/samsam").createMatcher,p=e("@sinonjs/commons").orderByFirstCall,w=e("./util/core/times-in-words"),l=e("util").inspect,S=e("@sinonjs/commons").prototypes.string.slice,E=e("@sinonjs/commons").global,v=n.slice,T=n.concat,u=n.forEach,c=n.join,C=n.splice;function O(h,g){for(const k of Object.keys(g)){const $=h[k];($===null||typeof $>"u")&&(h[k]=g[k])}}function M(h){const g=h||{};O(g,{shouldLimitAssertionLogs:!1,assertionLogLimit:1e4});const k={fail:function(d){let j=d;g.shouldLimitAssertionLogs&&(j=d.substring(0,g.assertionLogLimit));const V=new Error(j);throw V.name="AssertError",V},pass:function(){},callOrder:function(){$.apply(null,arguments);let d="",j="";if(o(arguments))k.pass("callOrder");else{try{d=c(arguments,", ");const V=v(arguments);let H=V.length;for(;H;)V[--H].called||C(V,H,1);j=c(p(V),", ")}catch{}x(this,`expected ${d} to be called in order but were called as ${j}`)}},callCount:function(d,j){$(d);let V;typeof j!="number"?(V=`expected ${l(j)} to be a number but was of type ${typeof j}`,x(this,V)):d.callCount!==j?(V=`expected %n to be called ${w(j)} but was called %c%C`,x(this,d.printf(V))):k.pass("callCount")},expose:function(d,j){if(!d)throw new TypeError("target is null or undefined");const V=j||{},H=typeof V.prefix>"u"&&"assert"||V.prefix,q=typeof V.includeFail>"u"||!!V.includeFail,G=this;return u(Object.keys(G),function(ee){ee!=="expose"&&(q||!/^(fail)/.test(ee))&&(d[I(H,ee)]=G[ee])}),d},match:function(d,j){if(a(j).test(d))k.pass("match");else{const H=["expected value to match",`    expected = ${l(j)}`,`    actual = ${l(d)}`];x(this,c(H,`
`))}}};function $(){const b=v(arguments);u(b,function(d){d||k.fail("fake is not a spy"),d.proxy&&d.proxy.isSinonProxy?$(d.proxy):(typeof d!="function"&&k.fail(`${d} is not a function`),typeof d.getCall!="function"&&k.fail(`${d} is not stubbed`))})}function Y(b,d){switch(b){case"notCalled":case"called":case"calledOnce":case"calledTwice":case"calledThrice":d.length!==0&&k.fail(`${b} takes 1 argument but was called with ${d.length+1} arguments`);break}}function x(b,d){const j=b||E;(j.fail||k.fail).call(j,d)}function A(b,d,j){let V=j,H=d;arguments.length===2&&(V=d,H=b),k[b]=function(q){$(q);const G=v(arguments,1);let ee=!1;Y(b,G),typeof H=="function"?ee=!H(q):ee=typeof q[H]=="function"?!q[H].apply(q,G):!q[H],ee?x(this,(q.printf||q.proxy.printf).apply(q,T([V],G))):k.pass(b)}}function I(b,d){return!b||/^fail/.test(d)?d:b+S(d,0,1).toUpperCase()+S(d,1)}return A("called","expected %n to have been called at least once but was never called"),A("notCalled",function(b){return!b.called},"expected %n to not have been called but was called %c%C"),A("calledOnce","expected %n to be called once but was called %c%C"),A("calledTwice","expected %n to be called twice but was called %c%C"),A("calledThrice","expected %n to be called thrice but was called %c%C"),A("calledOn","expected %n to be called with %1 as this but was called with %t"),A("alwaysCalledOn","expected %n to always be called with %1 as this but was called with %t"),A("calledWithNew","expected %n to be called with new"),A("alwaysCalledWithNew","expected %n to always be called with new"),A("calledWith","expected %n to be called with arguments %D"),A("calledWithMatch","expected %n to be called with match %D"),A("alwaysCalledWith","expected %n to always be called with arguments %D"),A("alwaysCalledWithMatch","expected %n to always be called with match %D"),A("calledWithExactly","expected %n to be called with exact arguments %D"),A("calledOnceWithExactly","expected %n to be called once and with exact arguments %D"),A("calledOnceWithMatch","expected %n to be called once and with match %D"),A("alwaysCalledWithExactly","expected %n to always be called with exact arguments %D"),A("neverCalledWith","expected %n to never be called with arguments %*%C"),A("neverCalledWithMatch","expected %n to never be called with match %*%C"),A("threw","%n did not throw exception%C"),A("alwaysThrew","%n did not always throw exception%C"),k}t.exports=M(),t.exports.createAssertObject=M},{"./util/core/times-in-words":36,"@sinonjs/commons":47,"@sinonjs/samsam":87,util:91}],5:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("./util/core/extend"),a=e("@sinonjs/commons").functionName,p=e("./util/core/next-tick"),w=e("@sinonjs/commons").valueToString,l=e("./util/core/export-async-behaviors"),S=n.concat,E=n.join,v=n.reverse,T=n.slice,u=-1,c=-2;function C(x,A){const I=x.callArgAt;if(I>=0)return A[I];let b;I===u&&(b=A),I===c&&(b=v(T(A)));const d=x.callArgProp;for(let j=0,V=b.length;j<V;++j){if(!d&&typeof b[j]=="function")return b[j];if(d&&b[j]&&typeof b[j][d]=="function")return b[j][d]}return null}function O(x,A,I){if(x.callArgAt<0){let b;return x.callArgProp?b=`${a(x.stub)} expected to yield to '${w(x.callArgProp)}', but no object with such a property was passed.`:b=`${a(x.stub)} expected to yield, but no callback was passed.`,I.length>0&&(b+=` Received [${E(I,", ")}]`),b}return`argument at index ${x.callArgAt} is not a function: ${A}`}function M(x,A,I){const b=x.replace(/sArg/,"ArgAt"),d=A[b];if(d>=I.length)throw new TypeError(`${x} failed: ${d+1} arguments required but only ${I.length} present`)}function h(x,A){if(typeof x.callArgAt=="number"){M("callsArg",x,A);const I=C(x,A);if(typeof I!="function")throw new TypeError(O(x,I,A));if(x.callbackAsync)p(function(){I.apply(x.callbackContext,x.callbackArguments)});else return I.apply(x.callbackContext,x.callbackArguments)}}const g={create:function(A){const I=o({},g);return delete I.create,delete I.addBehavior,delete I.createBehavior,I.stub=A,A.defaultBehavior&&A.defaultBehavior.promiseLibrary&&(I.promiseLibrary=A.defaultBehavior.promiseLibrary),I},isPresent:function(){return typeof this.callArgAt=="number"||this.exception||this.exceptionCreator||typeof this.returnArgAt=="number"||this.returnThis||typeof this.resolveArgAt=="number"||this.resolveThis||typeof this.throwArgAt=="number"||this.fakeFn||this.returnValueDefined},invoke:function(A,I){const b=h(this,I);if(this.exception)throw this.exception;if(this.exceptionCreator)throw this.exception=this.exceptionCreator(),this.exceptionCreator=void 0,this.exception;if(typeof this.returnArgAt=="number")return M("returnsArg",this,I),I[this.returnArgAt];if(this.returnThis)return A;if(typeof this.throwArgAt=="number")throw M("throwsArg",this,I),I[this.throwArgAt];if(this.fakeFn)return this.fakeFn.apply(A,I);if(typeof this.resolveArgAt=="number")return M("resolvesArg",this,I),(this.promiseLibrary||Promise).resolve(I[this.resolveArgAt]);if(this.resolveThis)return(this.promiseLibrary||Promise).resolve(A);if(this.resolve)return(this.promiseLibrary||Promise).resolve(this.returnValue);if(this.reject)return(this.promiseLibrary||Promise).reject(this.returnValue);if(this.callsThrough)return this.effectiveWrappedMethod().apply(A,I);if(this.callsThroughWithNew){const d=this.effectiveWrappedMethod(),j=T(I),V=d.bind.apply(d,S([null],j));return new V}else{if(typeof this.returnValue<"u")return this.returnValue;if(typeof this.callArgAt=="number")return b}return this.returnValue},effectiveWrappedMethod:function(){for(let A=this.stub;A;A=A.parent)if(A.wrappedMethod)return A.wrappedMethod;throw new Error("Unable to find wrapped method")},onCall:function(A){return this.stub.onCall(A)},onFirstCall:function(){return this.stub.onFirstCall()},onSecondCall:function(){return this.stub.onSecondCall()},onThirdCall:function(){return this.stub.onThirdCall()},withArgs:function(){throw new Error('Defining a stub by invoking "stub.onCall(...).withArgs(...)" is not supported. Use "stub.withArgs(...).onCall(...)" to define sequential behavior for calls with certain arguments.')}};function k(x){return function(){return this.defaultBehavior=this.defaultBehavior||g.create(this),this.defaultBehavior[x].apply(this.defaultBehavior,arguments),this}}function $(x,A,I){g[A]=function(){return I.apply(this,S([this],T(arguments))),this.stub||this},x[A]=k(A)}g.addBehavior=$,g.createBehavior=k;const Y=l(g);t.exports=o.nonEnum({},g,Y)},{"./util/core/export-async-behaviors":25,"./util/core/extend":26,"./util/core/next-tick":34,"@sinonjs/commons":47}],6:[function(e,t,r){const n=e("./util/core/walk"),o=e("./util/core/get-property-descriptor"),a=e("@sinonjs/commons").prototypes.object.hasOwnProperty,p=e("@sinonjs/commons").prototypes.array.push;function w(S,E,v,T){typeof o(T,v).value=="function"&&a(E,v)&&p(S,E[v])}function l(S){const E=[];return n(S,w.bind(null,E,S)),E}t.exports=l},{"./util/core/get-property-descriptor":29,"./util/core/walk":38,"@sinonjs/commons":47}],7:[function(e,t,r){t.exports=class{constructor(o=e("supports-color")){this.supportsColor=o}colorize(o,a){return this.supportsColor.stdout===!1?o:`\x1B[${a}m${o}\x1B[0m`}red(o){return this.colorize(o,31)}green(o){return this.colorize(o,32)}cyan(o){return this.colorize(o,96)}white(o){return this.colorize(o,39)}bold(o){return this.colorize(o,1)}}},{"supports-color":94}],8:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("./sandbox"),a=n.forEach,p=n.push;function w(E){const v=new o({assertOptions:E.assertOptions});return E.useFakeTimers&&(typeof E.useFakeTimers=="object"?v.useFakeTimers(E.useFakeTimers):v.useFakeTimers()),v}function l(E,v,T,u){u&&(v.injectInto&&!(T in v.injectInto)?(v.injectInto[T]=u,p(E.injectedKeys,T)):p(E.args,u))}function S(E){if(!E)return new o;const v=w(E);v.args=v.args||[],v.injectedKeys=[],v.injectInto=E.injectInto;const T=v.inject({});return E.properties?a(E.properties,function(u){const c=T[u]||u==="sandbox"&&v;l(v,E,u,c)}):l(v,E,"sandbox"),v}t.exports=S},{"./sandbox":20,"@sinonjs/commons":47}],9:[function(e,t,r){const n=e("./stub"),o=e("./util/core/sinon-type"),a=e("@sinonjs/commons").prototypes.array.forEach;function p(w){return o.get(w)==="stub"}t.exports=function(l,S){if(typeof l!="function")throw new TypeError("The constructor should be a function.");const E=Object.create(l.prototype);o.set(E,"stub-instance");const v=n(E);return a(Object.keys(S||{}),function(T){if(T in v){const u=S[T];p(u)?v[T]=u:v[T].returns(u)}else throw new Error(`Cannot stub ${T}. Property does not exist!`)}),v}},{"./stub":23,"./util/core/sinon-type":35,"@sinonjs/commons":47}],10:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("./util/core/is-property-configurable"),a=e("./util/core/export-async-behaviors"),p=e("./util/core/extend"),w=n.slice,l=-1,S=-2;function E(u,c,C){typeof c=="function"?u.exceptionCreator=c:typeof c=="string"?u.exceptionCreator=function(){const O=new Error(C||`Sinon-provided ${c}`);return O.name=c,O}:c?u.exception=c:u.exceptionCreator=function(){return new Error("Error")}}const v={callsFake:function(c,C){c.fakeFn=C,c.exception=void 0,c.exceptionCreator=void 0,c.callsThrough=!1},callsArg:function(c,C){if(typeof C!="number")throw new TypeError("argument index is not number");c.callArgAt=C,c.callbackArguments=[],c.callbackContext=void 0,c.callArgProp=void 0,c.callbackAsync=!1,c.callsThrough=!1},callsArgOn:function(c,C,O){if(typeof C!="number")throw new TypeError("argument index is not number");c.callArgAt=C,c.callbackArguments=[],c.callbackContext=O,c.callArgProp=void 0,c.callbackAsync=!1,c.callsThrough=!1},callsArgWith:function(c,C){if(typeof C!="number")throw new TypeError("argument index is not number");c.callArgAt=C,c.callbackArguments=w(arguments,2),c.callbackContext=void 0,c.callArgProp=void 0,c.callbackAsync=!1,c.callsThrough=!1},callsArgOnWith:function(c,C,O){if(typeof C!="number")throw new TypeError("argument index is not number");c.callArgAt=C,c.callbackArguments=w(arguments,3),c.callbackContext=O,c.callArgProp=void 0,c.callbackAsync=!1,c.callsThrough=!1},yields:function(u){u.callArgAt=l,u.callbackArguments=w(arguments,1),u.callbackContext=void 0,u.callArgProp=void 0,u.callbackAsync=!1,u.fakeFn=void 0,u.callsThrough=!1},yieldsRight:function(u){u.callArgAt=S,u.callbackArguments=w(arguments,1),u.callbackContext=void 0,u.callArgProp=void 0,u.callbackAsync=!1,u.callsThrough=!1,u.fakeFn=void 0},yieldsOn:function(u,c){u.callArgAt=l,u.callbackArguments=w(arguments,2),u.callbackContext=c,u.callArgProp=void 0,u.callbackAsync=!1,u.callsThrough=!1,u.fakeFn=void 0},yieldsTo:function(u,c){u.callArgAt=l,u.callbackArguments=w(arguments,2),u.callbackContext=void 0,u.callArgProp=c,u.callbackAsync=!1,u.callsThrough=!1,u.fakeFn=void 0},yieldsToOn:function(u,c,C){u.callArgAt=l,u.callbackArguments=w(arguments,3),u.callbackContext=C,u.callArgProp=c,u.callbackAsync=!1,u.fakeFn=void 0},throws:E,throwsException:E,returns:function(c,C){c.callsThrough=!1,c.returnValue=C,c.resolve=!1,c.reject=!1,c.returnValueDefined=!0,c.exception=void 0,c.exceptionCreator=void 0,c.fakeFn=void 0},returnsArg:function(c,C){if(typeof C!="number")throw new TypeError("argument index is not number");c.callsThrough=!1,c.returnArgAt=C},throwsArg:function(c,C){if(typeof C!="number")throw new TypeError("argument index is not number");c.callsThrough=!1,c.throwArgAt=C},returnsThis:function(c){c.returnThis=!0,c.callsThrough=!1},resolves:function(c,C){c.returnValue=C,c.resolve=!0,c.resolveThis=!1,c.reject=!1,c.returnValueDefined=!0,c.exception=void 0,c.exceptionCreator=void 0,c.fakeFn=void 0,c.callsThrough=!1},resolvesArg:function(c,C){if(typeof C!="number")throw new TypeError("argument index is not number");c.resolveArgAt=C,c.returnValue=void 0,c.resolve=!0,c.resolveThis=!1,c.reject=!1,c.returnValueDefined=!1,c.exception=void 0,c.exceptionCreator=void 0,c.fakeFn=void 0,c.callsThrough=!1},rejects:function(c,C,O){let M;return typeof C=="string"?(M=new Error(O||""),M.name=C):C?M=C:M=new Error("Error"),c.returnValue=M,c.resolve=!1,c.resolveThis=!1,c.reject=!0,c.returnValueDefined=!0,c.exception=void 0,c.exceptionCreator=void 0,c.fakeFn=void 0,c.callsThrough=!1,c},resolvesThis:function(c){c.returnValue=void 0,c.resolve=!1,c.resolveThis=!0,c.reject=!1,c.returnValueDefined=!1,c.exception=void 0,c.exceptionCreator=void 0,c.fakeFn=void 0,c.callsThrough=!1},callThrough:function(c){c.callsThrough=!0},callThroughWithNew:function(c){c.callsThroughWithNew=!0},get:function(c,C){const O=c.stub||c;return Object.defineProperty(O.rootObj,O.propName,{get:C,configurable:o(O.rootObj,O.propName)}),c},set:function(c,C){const O=c.stub||c;return Object.defineProperty(O.rootObj,O.propName,{set:C,configurable:o(O.rootObj,O.propName)}),c},value:function(c,C){const O=c.stub||c;return Object.defineProperty(O.rootObj,O.propName,{value:C,enumerable:!0,writable:!0,configurable:O.shadowsPropOnPrototype||o(O.rootObj,O.propName)}),c}},T=a(v);t.exports=p({},v,T)},{"./util/core/export-async-behaviors":25,"./util/core/extend":26,"./util/core/is-property-configurable":32,"@sinonjs/commons":47}],11:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("./proxy"),a=e("./util/core/next-tick"),p=n.slice;t.exports=w;function w(v){if(arguments.length>0&&typeof v!="function")throw new TypeError("Expected f argument to be a Function");return S(v)}w.returns=function(T){function u(){return T}return S(u)},w.throws=function(T){function u(){throw E(T)}return S(u)},w.resolves=function(T){function u(){return Promise.resolve(T)}return S(u)},w.rejects=function(T){function u(){return Promise.reject(E(T))}return S(u)},w.yields=function(){const T=p(arguments);function u(){const c=arguments[arguments.length-1];if(typeof c!="function")throw new TypeError("Expected last argument to be a function");c.apply(null,T)}return S(u)},w.yieldsAsync=function(){const T=p(arguments);function u(){const c=arguments[arguments.length-1];if(typeof c!="function")throw new TypeError("Expected last argument to be a function");a(function(){c.apply(null,T)})}return S(u)};let l=0;function S(v){const T=function(){let c,C;arguments.length>0&&(c=arguments[0],C=arguments[arguments.length-1]);const O=C&&typeof C=="function"?C:void 0;return u.firstArg=c,u.lastArg=C,u.callback=O,v&&v.apply(this,arguments)},u=o(T,v||T);return u.displayName="fake",u.id=`fake#${l++}`,u}function E(v){return v instanceof Error?v:new Error(v)}},{"./proxy":18,"./util/core/next-tick":34,"@sinonjs/commons":47}],12:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("./proxy-invoke"),a=e("./proxy-call").toString,p=e("./util/core/times-in-words"),w=e("./util/core/extend"),l=e("@sinonjs/samsam").createMatcher,S=e("./stub"),E=e("./assert"),v=e("@sinonjs/samsam").deepEqual,T=e("util").inspect,u=e("@sinonjs/commons").valueToString,c=n.every,C=n.forEach,O=n.push,M=n.slice;function h(A){return A===0?"never called":`called ${p(A)}`}function g(A){const I=A.minCalls,b=A.maxCalls;if(typeof I=="number"&&typeof b=="number"){let d=p(I);return I!==b&&(d=`at least ${d} and at most ${p(b)}`),d}return typeof I=="number"?`at least ${p(I)}`:`at most ${p(b)}`}function k(A){return!(typeof A.minCalls=="number")||A.callCount>=A.minCalls}function $(A){return typeof A.maxCalls!="number"?!1:A.callCount===A.maxCalls}function Y(A,I){return l.isMatcher(A)&&A.test(I)||!0}const x={minCalls:1,maxCalls:1,create:function(I){const b=w.nonEnum(S(),x);return delete b.create,b.method=I,b},invoke:function(I,b,d){return this.verifyCallAllowed(b,d),o.apply(this,arguments)},atLeast:function(I){if(typeof I!="number")throw new TypeError(`'${u(I)}' is not number`);return this.limitsSet||(this.maxCalls=null,this.limitsSet=!0),this.minCalls=I,this},atMost:function(I){if(typeof I!="number")throw new TypeError(`'${u(I)}' is not number`);return this.limitsSet||(this.minCalls=null,this.limitsSet=!0),this.maxCalls=I,this},never:function(){return this.exactly(0)},once:function(){return this.exactly(1)},twice:function(){return this.exactly(2)},thrice:function(){return this.exactly(3)},exactly:function(I){if(typeof I!="number")throw new TypeError(`'${u(I)}' is not a number`);return this.atLeast(I),this.atMost(I)},met:function(){return!this.failed&&k(this)},verifyCallAllowed:function(I,b){const d=this.expectedArguments;$(this)&&(this.failed=!0,x.fail(`${this.method} already called ${p(this.maxCalls)}`)),"expectedThis"in this&&this.expectedThis!==I&&x.fail(`${this.method} called with ${u(I)} as thisValue, expected ${u(this.expectedThis)}`),"expectedArguments"in this&&(b||x.fail(`${this.method} received no arguments, expected ${T(d)}`),b.length<d.length&&x.fail(`${this.method} received too few arguments (${T(b)}), expected ${T(d)}`),this.expectsExactArgCount&&b.length!==d.length&&x.fail(`${this.method} received too many arguments (${T(b)}), expected ${T(d)}`),C(d,function(j,V){Y(j,b[V]),v(b[V],j)||x.fail(`${this.method} received wrong arguments ${T(b)}, expected ${T(d)}`)},this))},allowsCall:function(I,b){const d=this.expectedArguments;if(this.met()&&$(this)||"expectedThis"in this&&this.expectedThis!==I)return!1;if(!("expectedArguments"in this))return!0;const j=b||[];return j.length<d.length||this.expectsExactArgCount&&j.length!==d.length?!1:c(d,function(V,H){return Y(V,j[H]),!!v(j[H],V)})},withArgs:function(){return this.expectedArguments=M(arguments),this},withExactArgs:function(){return this.withArgs.apply(this,arguments),this.expectsExactArgCount=!0,this},on:function(I){return this.expectedThis=I,this},toString:function(){const A=M(this.expectedArguments||[]);this.expectsExactArgCount||O(A,"[...]");const b=`${a.call({proxy:this.method||"anonymous mock expectation",args:A}).replace(", [...","[, ...")} ${g(this)}`;return this.met()?`Expectation met: ${b}`:`Expected ${b} (${h(this.callCount)})`},verify:function(){return this.met()?x.pass(String(this)):x.fail(String(this)),!0},pass:function(I){E.pass(I)},fail:function(I){const b=new Error(I);throw b.name="ExpectationError",b}};t.exports=x},{"./assert":4,"./proxy-call":16,"./proxy-invoke":17,"./stub":23,"./util/core/extend":26,"./util/core/times-in-words":36,"@sinonjs/commons":47,"@sinonjs/samsam":87,util:91}],13:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("./mock-expectation"),a=e("./proxy-call").toString,p=e("./util/core/extend"),w=e("@sinonjs/samsam").deepEqual,l=e("./util/core/wrap-method"),S=n.concat,E=n.filter,v=n.forEach,T=n.every,u=n.join,c=n.push,C=n.slice,O=n.unshift;function M(k){return!k||typeof k=="string"?o.create(k||"Anonymous mock"):M.create(k)}function h(k,$){v(k||[],$)}function g(k,$,Y){return Y&&k.length!==$.length?!1:T(k,function(x,A){return w($[A],x)})}p(M,{create:function($){if(!$)throw new TypeError("object is null");const Y=p.nonEnum({},M,{object:$});return delete Y.create,Y},expects:function($){if(!$)throw new TypeError("method is falsy");if(this.expectations||(this.expectations={},this.proxies=[],this.failures=[]),!this.expectations[$]){this.expectations[$]=[];const x=this;l(this.object,$,function(){return x.invokeMethod($,this,arguments)}),c(this.proxies,$)}const Y=o.create($);return Y.wrappedMethod=this.object[$].wrappedMethod,c(this.expectations[$],Y),Y},restore:function(){const $=this.object;h(this.proxies,function(Y){typeof $[Y].restore=="function"&&$[Y].restore()})},verify:function(){const $=this.expectations||{},Y=this.failures?C(this.failures):[],x=[];return h(this.proxies,function(A){h($[A],function(I){I.met()?c(x,String(I)):c(Y,String(I))})}),this.restore(),Y.length>0?o.fail(u(S(Y,x),`
`)):x.length>0&&o.pass(u(S(Y,x),`
`)),!0},invokeMethod:function($,Y,x){const A=this.expectations&&this.expectations[$]?this.expectations[$]:[],I=x||[];let b;const d=E(A,function(G){const ee=G.expectedArguments||[];return g(ee,I,G.expectsExactArgCount)}),j=E(d,function(G){return!G.met()&&G.allowsCall(Y,x)});if(j.length>0)return j[0].apply(Y,x);const V=[];let H=0;if(v(d,function(G){G.allowsCall(Y,x)?b=b||G:H+=1}),b&&H===0)return b.apply(Y,x);v(A,function(G){c(V,`    ${String(G)}`)}),O(V,`Unexpected call: ${a.call({proxy:$,args:x})}`);const q=new Error;if(!q.stack)try{throw q}catch{}c(this.failures,`Unexpected call: ${a.call({proxy:$,args:x,stack:q.stack})}`),o.fail(u(V,`
`))}}),t.exports=M},{"./mock-expectation":12,"./proxy-call":16,"./util/core/extend":26,"./util/core/wrap-method":39,"@sinonjs/commons":47,"@sinonjs/samsam":87}],14:[function(e,t,r){const n=e("./fake"),o=e("./util/core/is-restorable"),a="pending",p="resolved",w="rejected";function l(E){return o(E)?E:E?n(E):n()}function S(E){const v=l(E),T=new Promise(v);T.status=a,T.then(function(c){T.status=p,T.resolvedValue=c}).catch(function(c){T.status=w,T.rejectedValue=c});function u(c,C,O){if(T.status!==a)throw new Error(`Promise already ${T.status}`);T.status=c,O(C)}return T.resolve=function(c){return u(p,c,v.firstCall.args[0]),T},T.reject=function(c){return u(w,c,v.firstCall.args[1]),new Promise(function(C){T.catch(()=>C())})},T}t.exports=S},{"./fake":11,"./util/core/is-restorable":33}],15:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array.push;r.incrementCallCount=function(a){a.called=!0,a.callCount+=1,a.notCalled=!1,a.calledOnce=a.callCount===1,a.calledTwice=a.callCount===2,a.calledThrice=a.callCount===3},r.createCallProperties=function(a){a.firstCall=a.getCall(0),a.secondCall=a.getCall(1),a.thirdCall=a.getCall(2),a.lastCall=a.getCall(a.callCount-1)},r.delegateToCalls=function(a,p,w,l,S,E,v){a[p]=function(){if(!this.called)return E?E.apply(this,arguments):!1;if(v!==void 0&&this.callCount!==v)return!1;let T,u=0;const c=[];for(let C=0,O=this.callCount;C<O;C+=1){T=this.getCall(C);const M=T[l||p].apply(T,arguments);if(n(c,M),M&&(u+=1,w))return!0}return S?c:u===this.callCount}}},{"@sinonjs/commons":47}],16:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("@sinonjs/samsam").createMatcher,a=e("@sinonjs/samsam").deepEqual,p=e("@sinonjs/commons").functionName,w=e("util").inspect,l=e("@sinonjs/commons").valueToString,S=n.concat,E=n.filter,v=n.join,T=n.map,u=n.reduce,c=n.slice;function C(h,g,k){let $=p(h)+g;throw k.length&&($+=` Received [${v(c(k),", ")}]`),new Error($)}const O={calledOn:function(g){return o.isMatcher(g)?g.test(this.thisValue):this.thisValue===g},calledWith:function(){const g=this,k=c(arguments);return k.length>g.args.length?!1:u(k,function($,Y,x){return $&&a(g.args[x],Y)},!0)},calledWithMatch:function(){const g=this,k=c(arguments);return k.length>g.args.length?!1:u(k,function($,Y,x){const A=g.args[x];return $&&o(Y).test(A)},!0)},calledWithExactly:function(){return arguments.length===this.args.length&&this.calledWith.apply(this,arguments)},notCalledWith:function(){return!this.calledWith.apply(this,arguments)},notCalledWithMatch:function(){return!this.calledWithMatch.apply(this,arguments)},returned:function(g){return a(this.returnValue,g)},threw:function(g){return typeof g>"u"||!this.exception?!!this.exception:this.exception===g||this.exception.name===g},calledWithNew:function(){return this.proxy.prototype&&this.thisValue instanceof this.proxy},calledBefore:function(h){return this.callId<h.callId},calledAfter:function(h){return this.callId>h.callId},calledImmediatelyBefore:function(h){return this.callId===h.callId-1},calledImmediatelyAfter:function(h){return this.callId===h.callId+1},callArg:function(h){return this.ensureArgIsAFunction(h),this.args[h]()},callArgOn:function(h,g){return this.ensureArgIsAFunction(h),this.args[h].apply(g)},callArgWith:function(h){return this.callArgOnWith.apply(this,S([h,null],c(arguments,1)))},callArgOnWith:function(h,g){this.ensureArgIsAFunction(h);const k=c(arguments,2);return this.args[h].apply(g,k)},throwArg:function(h){throw h>this.args.length?new TypeError(`Not enough arguments: ${h} required but only ${this.args.length} present`):this.args[h]},yield:function(){return this.yieldOn.apply(this,S([null],c(arguments,0)))},yieldOn:function(h){const g=c(this.args),k=E(g,function($){return typeof $=="function"})[0];return k||C(this.proxy," cannot yield since no callback was passed.",g),k.apply(h,c(arguments,1))},yieldTo:function(h){return this.yieldToOn.apply(this,S([h,null],c(arguments,1)))},yieldToOn:function(h,g){const k=c(this.args),$=E(k,function(x){return x&&typeof x[h]=="function"})[0],Y=$&&$[h];return Y||C(this.proxy,` cannot yield to '${l(h)}' since no callback was passed.`,k),Y.apply(g,c(arguments,2))},toString:function(){if(!this.args)return":(";let h=this.proxy?`${String(this.proxy)}(`:"";const g=T(this.args,function(k){return w(k)});return h=`${h+v(g,", ")})`,typeof this.returnValue<"u"&&(h+=` => ${w(this.returnValue)}`),this.exception&&(h+=` !${this.exception.name}`,this.exception.message&&(h+=`(${this.exception.message})`)),this.stack&&(h+=(this.stack.split(`
`)[3]||"unknown").replace(/^\s*(?:at\s+|@)?/," at ")),h},ensureArgIsAFunction:function(h){if(typeof this.args[h]!="function")throw new TypeError(`Expected argument at position ${h} to be a Function, but was ${typeof this.args[h]}`)}};Object.defineProperty(O,"stack",{enumerable:!0,configurable:!0,get:function(){return this.errorWithCallStack&&this.errorWithCallStack.stack||""}}),O.invokeCallback=O.yield;function M(h,g,k,$,Y,x,A){if(typeof x!="number")throw new TypeError("Call id is not a number");let I,b;k.length>0&&(I=k[0],b=k[k.length-1]);const d=Object.create(O),j=b&&typeof b=="function"?b:void 0;return d.proxy=h,d.thisValue=g,d.args=k,d.firstArg=I,d.lastArg=b,d.callback=j,d.returnValue=$,d.exception=Y,d.callId=x,d.errorWithCallStack=A,d}M.toString=O.toString,t.exports=M},{"@sinonjs/commons":47,"@sinonjs/samsam":87,util:91}],17:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("./proxy-call-util"),a=n.push,p=n.forEach,w=n.concat,l=Error.prototype.constructor,S=Function.prototype.bind;let E=0;t.exports=function(T,u,c){const C=this.matchingFakes(c),O=E++;let M,h;o.incrementCallCount(this),a(this.thisValues,u),a(this.args,c),a(this.callIds,O),p(C,function(k){o.incrementCallCount(k),a(k.thisValues,u),a(k.args,c),a(k.callIds,O)}),o.createCallProperties(this),p(C,o.createCallProperties);try{this.invoking=!0,this.getCall(this.callCount-1).calledWithNew()?(h=new(S.apply(this.func||T,w([u],c))),typeof h!="object"&&typeof h!="function"&&(h=u)):h=(this.func||T).apply(u,c)}catch(k){M=k}finally{delete this.invoking}a(this.exceptions,M),a(this.returnValues,h),p(C,function(k){a(k.exceptions,M),a(k.returnValues,h)});const g=new l;try{throw g}catch{}if(a(this.errorsWithCallStack,g),p(C,function(k){a(k.errorsWithCallStack,g)}),o.createCallProperties(this),p(C,o.createCallProperties),M!==void 0)throw M;return h}},{"./proxy-call-util":15,"@sinonjs/commons":47}],18:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("./util/core/extend"),a=e("./util/core/function-to-string"),p=e("./proxy-call"),w=e("./proxy-call-util"),l=e("./proxy-invoke"),S=e("util").inspect,E=n.push,v=n.forEach,T=n.slice,u=Object.freeze([]),c={toString:a,named:function(g){this.displayName=g;const k=Object.getOwnPropertyDescriptor(this,"name");return k&&k.configurable&&(k.value=g,Object.defineProperty(this,"name",k)),this},invoke:l,matchingFakes:function(){return u},getCall:function(g){let k=g;return k<0&&(k+=this.callCount),k<0||k>=this.callCount?null:p(this,this.thisValues[k],this.args[k],this.returnValues[k],this.exceptions[k],this.callIds[k],this.errorsWithCallStack[k])},getCalls:function(){const h=[];let g;for(g=0;g<this.callCount;g++)E(h,this.getCall(g));return h},calledBefore:function(g){return this.called?g.called?this.callIds[0]<g.callIds[g.callIds.length-1]:!0:!1},calledAfter:function(g){return!this.called||!g.called?!1:this.callIds[this.callCount-1]>g.callIds[0]},calledImmediatelyBefore:function(g){return!this.called||!g.called?!1:this.callIds[this.callCount-1]===g.callIds[g.callCount-1]-1},calledImmediatelyAfter:function(g){return!this.called||!g.called?!1:this.callIds[this.callCount-1]===g.callIds[g.callCount-1]+1},formatters:e("./spy-formatters"),printf:function(h){const g=this,k=T(arguments,1);let $;return(h||"").replace(/%(.)/g,function(Y,x){return $=c.formatters[x],typeof $=="function"?String($(g,k)):isNaN(parseInt(x,10))?`%${x}`:S(k[x-1])})},resetHistory:function(){if(this.invoking){const h=new Error("Cannot reset Sinon function while invoking it. Move the call to .resetHistory outside of the callback.");throw h.name="InvalidResetException",h}return this.called=!1,this.notCalled=!0,this.calledOnce=!1,this.calledTwice=!1,this.calledThrice=!1,this.callCount=0,this.firstCall=null,this.secondCall=null,this.thirdCall=null,this.lastCall=null,this.args=[],this.firstArg=null,this.lastArg=null,this.returnValues=[],this.thisValues=[],this.exceptions=[],this.callIds=[],this.errorsWithCallStack=[],this.fakes&&v(this.fakes,function(h){h.resetHistory()}),this}},C=w.delegateToCalls;C(c,"calledOn",!0),C(c,"alwaysCalledOn",!1,"calledOn"),C(c,"calledWith",!0),C(c,"calledOnceWith",!0,"calledWith",!1,void 0,1),C(c,"calledWithMatch",!0),C(c,"alwaysCalledWith",!1,"calledWith"),C(c,"alwaysCalledWithMatch",!1,"calledWithMatch"),C(c,"calledWithExactly",!0),C(c,"calledOnceWithExactly",!0,"calledWithExactly",!1,void 0,1),C(c,"calledOnceWithMatch",!0,"calledWithMatch",!1,void 0,1),C(c,"alwaysCalledWithExactly",!1,"calledWithExactly"),C(c,"neverCalledWith",!1,"notCalledWith",!1,function(){return!0}),C(c,"neverCalledWithMatch",!1,"notCalledWithMatch",!1,function(){return!0}),C(c,"threw",!0),C(c,"alwaysThrew",!1,"threw"),C(c,"returned",!0),C(c,"alwaysReturned",!1,"returned"),C(c,"calledWithNew",!0),C(c,"alwaysCalledWithNew",!1,"calledWithNew");function O(h,g){const k=M(h,g);return o(k,h),k.prototype=h.prototype,o.nonEnum(k,c),k}function M(h,g){const k=g.length;let $;switch(k){case 0:$=function(){return $.invoke(h,this,T(arguments))};break;case 1:$=function(A){return $.invoke(h,this,T(arguments))};break;case 2:$=function(A,I){return $.invoke(h,this,T(arguments))};break;case 3:$=function(A,I,b){return $.invoke(h,this,T(arguments))};break;case 4:$=function(A,I,b,d){return $.invoke(h,this,T(arguments))};break;case 5:$=function(A,I,b,d,j){return $.invoke(h,this,T(arguments))};break;case 6:$=function(A,I,b,d,j,V){return $.invoke(h,this,T(arguments))};break;case 7:$=function(A,I,b,d,j,V,H){return $.invoke(h,this,T(arguments))};break;case 8:$=function(A,I,b,d,j,V,H,q){return $.invoke(h,this,T(arguments))};break;case 9:$=function(A,I,b,d,j,V,H,q,G){return $.invoke(h,this,T(arguments))};break;case 10:$=function(A,I,b,d,j,V,H,q,G,ee){return $.invoke(h,this,T(arguments))};break;case 11:$=function(A,I,b,d,j,V,H,q,G,ee,he){return $.invoke(h,this,T(arguments))};break;case 12:$=function(A,I,b,d,j,V,H,q,G,ee,he,D){return $.invoke(h,this,T(arguments))};break;default:$=function(){return $.invoke(h,this,T(arguments))};break}const Y=Object.getOwnPropertyDescriptor(g,"name");return Y&&Y.configurable&&Object.defineProperty($,"name",Y),o.nonEnum($,{isSinonProxy:!0,called:!1,notCalled:!0,calledOnce:!1,calledTwice:!1,calledThrice:!1,callCount:0,firstCall:null,firstArg:null,secondCall:null,thirdCall:null,lastCall:null,lastArg:null,args:[],returnValues:[],thisValues:[],exceptions:[],callIds:[],errorsWithCallStack:[]}),$}t.exports=O},{"./proxy-call":16,"./proxy-call-util":15,"./proxy-invoke":17,"./spy-formatters":21,"./util/core/extend":26,"./util/core/function-to-string":27,"@sinonjs/commons":47,util:91}],19:[function(e,t,r){const n=e("./util/core/walk-object");function o(w,l){return w[l].restore&&w[l].restore.sinon}function a(w,l){w[l].restore()}function p(w){return n(a,w,o)}t.exports=p},{"./util/core/walk-object":37}],20:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("@sinonjs/commons").deprecated,a=e("./collect-own-methods"),p=e("./util/core/get-property-descriptor"),w=e("./util/core/is-property-configurable"),l=e("@sinonjs/samsam").createMatcher,S=e("./assert"),E=e("./util/fake-timers"),v=e("./mock"),T=e("./spy"),u=e("./stub"),c=e("./create-stub-instance"),C=e("./fake"),O=e("@sinonjs/commons").valueToString,M=1e4,h=n.filter,g=n.forEach,k=n.push,$=n.reverse;function Y(d,j){const V=h(d,function(H){return typeof H[j]=="function"});g(V,function(H){H[j]()})}function x(d){if(typeof d.get=="function")throw new Error("Use sandbox.replaceGetter for replacing getters");if(typeof d.set=="function")throw new Error("Use sandbox.replaceSetter for replacing setters")}function A(d,j,V){if(typeof d[j]!=typeof V)throw new TypeError(`Cannot replace ${typeof d[j]} with ${typeof V}`)}function I(d,j,V){if(typeof d>"u")throw new TypeError(`Cannot replace non-existent property ${O(j)}. Perhaps you meant sandbox.define()?`);if(typeof V>"u")throw new TypeError("Expected replacement argument to be defined")}function b(d={}){const j=this,V=d.assertOptions||{};let H=[],q=[],G=!1;j.leakThreshold=M;function ee(U){k(q,U)>j.leakThreshold&&!G&&(o.printWarning("Potential memory leak detected; be sure to call restore() to clean up your sandbox. To suppress this warning, modify the leakThreshold property of your sandbox."),G=!0)}j.assert=S.createAssertObject(V),j.getFakes=function(){return q},j.createStubInstance=function(){const z=c.apply(null,arguments),N=a(z);return g(N,function(Z){ee(Z)}),z},j.inject=function(z){return z.spy=function(){return j.spy.apply(null,arguments)},z.stub=function(){return j.stub.apply(null,arguments)},z.mock=function(){return j.mock.apply(null,arguments)},z.createStubInstance=function(){return j.createStubInstance.apply(j,arguments)},z.fake=function(){return j.fake.apply(null,arguments)},z.define=function(){return j.define.apply(null,arguments)},z.replace=function(){return j.replace.apply(null,arguments)},z.replaceSetter=function(){return j.replaceSetter.apply(null,arguments)},z.replaceGetter=function(){return j.replaceGetter.apply(null,arguments)},j.clock&&(z.clock=j.clock),z.match=l,z},j.mock=function(){const z=v.apply(null,arguments);return ee(z),z},j.reset=function(){Y(q,"reset"),Y(q,"resetHistory")},j.resetBehavior=function(){Y(q,"resetBehavior")},j.resetHistory=function(){function z(N){const Z=N.resetHistory||N.reset;Z&&Z.call(N)}g(q,z)},j.restore=function(){if(arguments.length)throw new Error("sandbox.restore() does not take any parameters. Perhaps you meant stub.restore()");$(q),Y(q,"restore"),q=[],g(H,function(z){z()}),H=[],j.restoreContext()},j.restoreContext=function(){j.injectedKeys&&(g(j.injectedKeys,function(z){delete j.injectInto[z]}),j.injectedKeys.length=0)};function he(U,z,N=!1){const Z=p(U,z),ie=N&&U[z];function ve(){N?U[z]=ie:Z?.isOwn?Object.defineProperty(U,z,Z):delete U[z]}return ve.object=U,ve.property=z,ve}function D(U,z){g(H,function(N){if(N.object===U&&N.property===z)throw new TypeError(`Attempted to replace ${z} which is already replaced`)})}j.replace=function(z,N,Z){const ie=p(z,N);return I(ie,N,Z),x(ie),A(z,N,Z),D(z,N),k(H,he(z,N)),z[N]=Z,Z},j.replace.usingAccessor=function(z,N,Z){const ie=p(z,N);return I(ie,N,Z),A(z,N,Z),D(z,N),k(H,he(z,N,!0)),z[N]=Z,Z},j.define=function(z,N,Z){if(p(z,N))throw new TypeError(`Cannot define the already existing property ${O(N)}. Perhaps you meant sandbox.replace()?`);if(typeof Z>"u")throw new TypeError("Expected value argument to be defined");return D(z,N),k(H,he(z,N)),z[N]=Z,Z},j.replaceGetter=function(z,N,Z){const ie=p(z,N);if(typeof ie>"u")throw new TypeError(`Cannot replace non-existent property ${O(N)}`);if(typeof Z!="function")throw new TypeError("Expected replacement argument to be a function");if(typeof ie.get!="function")throw new Error("`object.property` is not a getter");return D(z,N),k(H,he(z,N)),Object.defineProperty(z,N,{get:Z,configurable:w(z,N)}),Z},j.replaceSetter=function(z,N,Z){const ie=p(z,N);if(typeof ie>"u")throw new TypeError(`Cannot replace non-existent property ${O(N)}`);if(typeof Z!="function")throw new TypeError("Expected replacement argument to be a function");if(typeof ie.set!="function")throw new Error("`object.property` is not a setter");return D(z,N),k(H,he(z,N)),Object.defineProperty(z,N,{set:Z,configurable:w(z,N)}),Z};function J(U,z){const[N,Z,ie]=U;if(typeof Z>"u"&&typeof N=="object"){const be=a(z);g(be,function(Ne){ee(Ne)})}else if(Array.isArray(ie))for(const be of ie)ee(z[be]);else ee(z);return z}j.spy=function(){const z=T.apply(T,arguments);return J(arguments,z)},j.stub=function(){const z=u.apply(u,arguments);return J(arguments,z)},j.fake=function(z){const N=C.apply(C,arguments);return ee(N),N},g(Object.keys(C),function(U){const z=C[U];typeof z=="function"&&(j.fake[U]=function(){const N=z.apply(z,arguments);return ee(N),N})}),j.useFakeTimers=function(z){const N=E.useFakeTimers.call(null,z);return j.clock=N,ee(N),N},j.verify=function(){Y(q,"verify")},j.verifyAndRestore=function(){let z;try{j.verify()}catch(N){z=N}if(j.restore(),z)throw z}}b.prototype.match=l,t.exports=b},{"./assert":4,"./collect-own-methods":6,"./create-stub-instance":9,"./fake":11,"./mock":13,"./spy":22,"./stub":23,"./util/core/get-property-descriptor":29,"./util/core/is-property-configurable":32,"./util/fake-timers":40,"@sinonjs/commons":47,"@sinonjs/samsam":87}],21:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("./colorizer"),a=new o,p=e("@sinonjs/samsam").createMatcher,w=e("./util/core/times-in-words"),l=e("util").inspect,S=e("diff"),E=n.join,v=n.map,T=n.push,u=n.slice;function c(M,h,g){let k=g,$=M.message;return M.test(h)||($=a.red(M.message),k&&(k=a.green(k))),`${k} ${$}`}function C(M){const h=v(M,function(g){let k=g.value;return g.added?k=a.green(k):g.removed&&(k=a.red(k)),M.length===2&&(k+=" "),k});return E(h,"")}function O(M){return typeof M=="string"?JSON.stringify(M):M}t.exports={c:function(M){return w(M.callCount)},n:function(M){return M.toString()},D:function(M,h){let g="";for(let k=0,$=M.callCount;k<$;++k){$>1&&(g+=`
Call ${k+1}:`);const Y=M.getCall(k).args,x=u(h);for(let A=0;A<Y.length||A<x.length;++A){let I=Y[A],b=x[A];I&&(I=O(I)),b&&(b=O(b)),g+=`
`;const d=A<Y.length?l(I):"";if(p.isMatcher(b))g+=c(b,I,d);else{const j=A<x.length?l(b):"",V=S.diffJson(d,j);g+=C(V)}}}return g},C:function(M){const h=[];for(let g=0,k=M.callCount;g<k;++g){let $=`    ${M.getCall(g).toString()}`;/\n/.test(h[g-1])&&($=`
${$}`),T(h,$)}return h.length>0?`
${E(h,`
`)}`:""},t:function(M){const h=[];for(let g=0,k=M.callCount;g<k;++g)T(h,l(M.thisValues[g]));return E(h,", ")},"*":function(M,h){return E(v(h,function(g){return l(g)}),", ")}}},{"./colorizer":7,"./util/core/times-in-words":36,"@sinonjs/commons":47,"@sinonjs/samsam":87,diff:92,util:91}],22:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("./proxy"),a=e("./util/core/extend"),p=e("@sinonjs/commons").functionName,w=e("./util/core/get-property-descriptor"),l=e("@sinonjs/samsam").deepEqual,S=e("./util/core/is-es-module"),E=e("./proxy-call-util"),v=e("./util/core/walk-object"),T=e("./util/core/wrap-method"),u=e("@sinonjs/commons").valueToString,c=n.forEach,C=n.pop,O=n.push,M=n.slice,h=Array.prototype.filter;let g=0;function k(I,b,d){const j=I.matchingArguments;return j.length<=b.length&&l(M(b,0,j.length),j)?!d||j.length===b.length:!1}const $={withArgs:function(){const I=M(arguments),b=C(this.matchingFakes(I,!0));if(b)return b;const d=this,j=this.instantiateFake();return j.matchingArguments=I,j.parent=this,O(this.fakes,j),j.withArgs=function(){return d.withArgs.apply(d,arguments)},c(d.args,function(V,H){k(j,V)&&(E.incrementCallCount(j),O(j.thisValues,d.thisValues[H]),O(j.args,V),O(j.returnValues,d.returnValues[H]),O(j.exceptions,d.exceptions[H]),O(j.callIds,d.callIds[H]))}),E.createCallProperties(j),j},matchingFakes:function(I,b){return h.call(this.fakes,function(d){return k(d,I,b)})}},Y=E.delegateToCalls;Y($,"callArg",!1,"callArgWith",!0,function(){throw new Error(`${this.toString()} cannot call arg since it was not yet invoked.`)}),$.callArgWith=$.callArg,Y($,"callArgOn",!1,"callArgOnWith",!0,function(){throw new Error(`${this.toString()} cannot call arg since it was not yet invoked.`)}),$.callArgOnWith=$.callArgOn,Y($,"throwArg",!1,"throwArg",!1,function(){throw new Error(`${this.toString()} cannot throw arg since it was not yet invoked.`)}),Y($,"yield",!1,"yield",!0,function(){throw new Error(`${this.toString()} cannot yield since it was not yet invoked.`)}),$.invokeCallback=$.yield,Y($,"yieldOn",!1,"yieldOn",!0,function(){throw new Error(`${this.toString()} cannot yield since it was not yet invoked.`)}),Y($,"yieldTo",!1,"yieldTo",!0,function(I){throw new Error(`${this.toString()} cannot yield to '${u(I)}' since it was not yet invoked.`)}),Y($,"yieldToOn",!1,"yieldToOn",!0,function(I){throw new Error(`${this.toString()} cannot yield to '${u(I)}' since it was not yet invoked.`)});function x(I){let b,d=I;typeof d!="function"?d=function(){}:b=p(d);const j=o(d,d);return a.nonEnum(j,$),a.nonEnum(j,{displayName:b||"spy",fakes:[],instantiateFake:x,id:`spy#${g++}`}),j}function A(I,b,d){if(S(I))throw new TypeError("ES Modules cannot be spied");if(!b&&typeof I=="function")return x(I);if(!b&&typeof I=="object")return v(A,I);if(!I&&!b)return x(function(){});if(!d)return T(I,b,x(I[b]));const j={},V=w(I,b);return c(d,function(H){j[H]=x(V[H])}),T(I,b,j)}a(A,$),t.exports=A},{"./proxy":18,"./proxy-call-util":15,"./util/core/extend":26,"./util/core/get-property-descriptor":29,"./util/core/is-es-module":30,"./util/core/walk-object":37,"./util/core/wrap-method":39,"@sinonjs/commons":47,"@sinonjs/samsam":87}],23:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("./behavior"),a=e("./default-behaviors"),p=e("./proxy"),w=e("@sinonjs/commons").functionName,l=e("@sinonjs/commons").prototypes.object.hasOwnProperty,S=e("./util/core/is-non-existent-property"),E=e("./spy"),v=e("./util/core/extend"),T=e("./util/core/get-property-descriptor"),u=e("./util/core/is-es-module"),c=e("./util/core/sinon-type"),C=e("./util/core/wrap-method"),O=e("./throw-on-falsy-object"),M=e("@sinonjs/commons").valueToString,h=e("./util/core/walk-object"),g=n.forEach,k=n.pop,$=n.slice,Y=n.sort;let x=0;function A(G){let ee;function he(){const J=$(arguments),U=ee.matchingFakes(J),z=k(Y(U,function(N,Z){return N.matchingArguments.length-Z.matchingArguments.length}))||ee;return H(z).invoke(this,arguments)}ee=p(he,G||he),v.nonEnum(ee,E),v.nonEnum(ee,I);const D=G?w(G):null;return v.nonEnum(ee,{fakes:[],instantiateFake:A,displayName:D||"stub",defaultBehavior:null,behaviors:[],id:`stub#${x++}`}),c.set(ee,"stub"),ee}function I(G,ee){if(arguments.length>2)throw new TypeError("stub(obj, 'meth', fn) has been removed, see documentation");if(u(G))throw new TypeError("ES Modules cannot be stubbed");if(O.apply(null,arguments),S(G,ee))throw new TypeError(`Cannot stub non-existent property ${M(ee)}`);const he=T(G,ee);b(he,ee);const D=typeof G=="object"||typeof G=="function",J=typeof ee>"u"&&D,U=!G&&typeof ee>"u",z=D&&typeof ee<"u"&&(typeof he>"u"||typeof he.value!="function");if(J)return h(I,G);if(U)return A();const N=typeof he.value=="function"?he.value:null,Z=A(N);return v.nonEnum(Z,{rootObj:G,propName:ee,shadowsPropOnPrototype:!he.isOwn,restore:function(){if(he!==void 0&&he.isOwn){Object.defineProperty(G,ee,he);return}delete G[ee]}}),z?Z:C(G,ee,Z)}function b(G,ee){if(!(!G||!ee)){if(G.isOwn&&!G.configurable&&!G.writable)throw new TypeError(`Descriptor for property ${ee} is non-configurable and non-writable`);if((G.get||G.set)&&!G.configurable)throw new TypeError(`Descriptor for accessor property ${ee} is non-configurable`);if(d(G)&&!G.writable)throw new TypeError(`Descriptor for data property ${ee} is non-writable`)}}function d(G){return!G.value&&!G.writable&&!G.set&&!G.get}function j(G){return G.parent&&H(G.parent)}function V(G){return G.defaultBehavior||j(G)||o.create(G)}function H(G){const ee=G.behaviors[G.callCount-1];return ee&&ee.isPresent()?ee:V(G)}const q={resetBehavior:function(){this.defaultBehavior=null,this.behaviors=[],delete this.returnValue,delete this.returnArgAt,delete this.throwArgAt,delete this.resolveArgAt,delete this.fakeFn,this.returnThis=!1,this.resolveThis=!1,g(this.fakes,function(G){G.resetBehavior()})},reset:function(){this.resetHistory(),this.resetBehavior()},onCall:function(ee){return this.behaviors[ee]||(this.behaviors[ee]=o.create(this)),this.behaviors[ee]},onFirstCall:function(){return this.onCall(0)},onSecondCall:function(){return this.onCall(1)},onThirdCall:function(){return this.onCall(2)},withArgs:function(){const ee=E.withArgs.apply(this,arguments);return this.defaultBehavior&&this.defaultBehavior.promiseLibrary&&(ee.defaultBehavior=ee.defaultBehavior||o.create(ee),ee.defaultBehavior.promiseLibrary=this.defaultBehavior.promiseLibrary),ee}};g(Object.keys(o),function(G){l(o,G)&&!l(q,G)&&G!=="create"&&G!=="invoke"&&(q[G]=o.createBehavior(G))}),g(Object.keys(a),function(G){l(a,G)&&!l(q,G)&&o.addBehavior(I,G,a[G])}),v(I,q),t.exports=I},{"./behavior":5,"./default-behaviors":10,"./proxy":18,"./spy":22,"./throw-on-falsy-object":24,"./util/core/extend":26,"./util/core/get-property-descriptor":29,"./util/core/is-es-module":30,"./util/core/is-non-existent-property":31,"./util/core/sinon-type":35,"./util/core/walk-object":37,"./util/core/wrap-method":39,"@sinonjs/commons":47}],24:[function(e,t,r){const n=e("@sinonjs/commons").valueToString;function o(a,p){if(p&&!a){const w=a===null?"null":"undefined";throw new Error(`Trying to stub property '${n(p)}' of ${w}`)}}t.exports=o},{"@sinonjs/commons":47}],25:[function(e,t,r){const o=e("@sinonjs/commons").prototypes.array.reduce;t.exports=function(p){return o(Object.keys(p),function(w,l){return l.match(/^(callsArg|yields)/)&&!l.match(/Async/)&&(w[`${l}Async`]=function(){const S=p[l].apply(this,arguments);return this.callbackAsync=!0,S}),w},{})}},{"@sinonjs/commons":47}],26:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array,o=e("@sinonjs/commons").prototypes.object.hasOwnProperty,a=n.join,p=n.push,w=(function(){const S={constructor:function(){return"0"},toString:function(){return"1"},valueOf:function(){return"2"},toLocaleString:function(){return"3"},prototype:function(){return"4"},isPrototypeOf:function(){return"5"},propertyIsEnumerable:function(){return"6"},hasOwnProperty:function(){return"7"},length:function(){return"8"},unique:function(){return"9"}},E=[];for(const v in S)o(S,v)&&p(E,S[v]());return a(E,"")!=="0123456789"})();function l(S,E,v){let T,u,c;for(u=0;u<E.length;u++){T=E[u];for(c in T)o(T,c)&&v(S,T,c);w&&o(T,"toString")&&T.toString!==S.toString&&(S.toString=T.toString)}return S}t.exports=function(E,...v){return l(E,v,function(u,c,C){const O=Object.getOwnPropertyDescriptor(u,C),M=Object.getOwnPropertyDescriptor(c,C);if(C==="name"&&!O.writable)return;const h={configurable:M.configurable,enumerable:M.enumerable};o(M,"writable")?(h.writable=M.writable,h.value=M.value):(M.get&&(h.get=M.get.bind(u)),M.set&&(h.set=M.set.bind(u))),Object.defineProperty(u,C,h)})},t.exports.nonEnum=function(E,...v){return l(E,v,function(u,c,C){Object.defineProperty(u,C,{value:c[C],enumerable:!1,configurable:!0,writable:!0})})}},{"@sinonjs/commons":47}],27:[function(e,t,r){t.exports=function(){let o,a,p;if(this.getCall&&this.callCount)for(o=this.callCount;o--;){p=this.getCall(o).thisValue;for(a in p)try{if(p[a]===this)return a}catch{}}return this.displayName||"sinon fake"}},{}],28:[function(e,t,r){function n(o){setTimeout(o,0)}t.exports=function(a,p){return typeof a=="object"&&typeof a.nextTick=="function"?a.nextTick:typeof p=="function"?p:n}},{}],29:[function(e,t,r){function n(o,a){let p=o,w;const l=!!(o&&Object.getOwnPropertyDescriptor(o,a));for(;p&&!(w=Object.getOwnPropertyDescriptor(p,a));)p=Object.getPrototypeOf(p);return w&&(w.isOwn=l),w}t.exports=n},{}],30:[function(e,t,r){t.exports=function(n){return n&&typeof Symbol<"u"&&n[Symbol.toStringTag]==="Module"&&Object.isSealed(n)}},{}],31:[function(e,t,r){function n(o,a){return!!(o&&typeof a<"u"&&!(a in o))}t.exports=n},{}],32:[function(e,t,r){const n=e("./get-property-descriptor");function o(a,p){const w=n(a,p);return w?w.configurable:!0}t.exports=o},{"./get-property-descriptor":29}],33:[function(e,t,r){function n(o){return typeof o=="function"&&typeof o.restore=="function"&&o.restore.sinon}t.exports=n},{}],34:[function(e,t,r){const n=e("@sinonjs/commons").global,o=e("./get-next-tick");t.exports=o(n.process,n.setImmediate)},{"./get-next-tick":28,"@sinonjs/commons":47}],35:[function(e,t,r){const n=Symbol("SinonType");t.exports={set(o,a){Object.defineProperty(o,n,{value:a,configurable:!1,enumerable:!1})},get(o){return o&&o[n]}}},{}],36:[function(e,t,r){const n=[null,"once","twice","thrice"];t.exports=function(a){return n[a]||`${a||0} times`}},{}],37:[function(e,t,r){const n=e("@sinonjs/commons").functionName,o=e("./get-property-descriptor"),a=e("./walk");function p(w,l,S){let E=!1;const v=n(w);if(!l)throw new Error(`Trying to ${v} object but received ${String(l)}`);if(a(l,function(T,u){u!==Object.prototype&&T!=="constructor"&&typeof o(u,T).value=="function"&&(S?S(l,T)&&(E=!0,w(l,T)):(E=!0,w(l,T)))}),!E)throw new Error("Found no methods on object to which we could apply mutations");return l}t.exports=p},{"./get-property-descriptor":29,"./walk":38,"@sinonjs/commons":47}],38:[function(e,t,r){const n=e("@sinonjs/commons").prototypes.array.forEach;function o(a,p,w,l,S){let E;const v=Object.getPrototypeOf(a);if(typeof Object.getOwnPropertyNames!="function"){for(E in a)p.call(w,a[E],E,a);return}n(Object.getOwnPropertyNames(a),function(T){if(S[T]!==!0){S[T]=!0;const u=typeof Object.getOwnPropertyDescriptor(a,T).get=="function"?l:a;p.call(w,T,u)}}),v&&o(v,p,w,l,S)}t.exports=function(p,w,l){return o(p,w,l,p,{})}},{"@sinonjs/commons":47}],39:[function(e,t,r){const n=()=>{},o=e("./get-property-descriptor"),a=e("./extend"),p=e("./sinon-type"),w=e("@sinonjs/commons").prototypes.object.hasOwnProperty,l=e("@sinonjs/commons").valueToString,S=e("@sinonjs/commons").prototypes.array.push;function E(c){return typeof c=="function"||!!(c&&c.constructor&&c.call&&c.apply)}function v(c,C){for(const O in C)w(c,O)||(c[O]=C[O])}function T(c,C,O){const M=["get","set"],h=o(c,C);for(let g=0;g<M.length;g++)if(h[M[g]]&&h[M[g]].name===O.name)return M[g];return null}const u="keys"in Object;t.exports=function(C,O,M){if(!C)throw new TypeError("Should wrap property of object");if(typeof M!="function"&&typeof M!="object")throw new TypeError("Method wrapper should be a function or a property descriptor");function h(H){let q;if(!E(H))q=new TypeError(`Attempted to wrap ${typeof H} property ${l(O)} as function`);else if(H.restore&&H.restore.sinon)q=new TypeError(`Attempted to wrap ${l(O)} which is already wrapped`);else if(H.calledBefore){const G=H.returns?"stubbed":"spied on";q=new TypeError(`Attempted to wrap ${l(O)} which is already ${G}`)}if(q)throw H&&H.stackTraceError&&(q.stack+=`
--------------
${H.stackTraceError.stack}`),q}let g,k,$,Y,x,A;const I=[];function b(){k=C[O],h(k),C[O]=M,M.displayName=O}const d=C.hasOwnProperty?C.hasOwnProperty(O):w(C,O);if(u){const H=typeof M=="function"?{value:M}:M;if(Y=o(C,O),Y?Y.restore&&Y.restore.sinon&&(g=new TypeError(`Attempted to wrap ${O} which is already wrapped`)):g=new TypeError(`Attempted to wrap ${typeof k} property ${O} as function`),g)throw Y&&Y.stackTraceError&&(g.stack+=`
--------------
${Y.stackTraceError.stack}`),g;const q=Object.keys(H);for($=0;$<q.length;$++)k=Y[q[$]],h(k),S(I,k);for(v(H,Y),$=0;$<q.length;$++)v(H[q[$]],Y[q[$]]);d||(H.configurable=!0),Object.defineProperty(C,O,H),typeof M=="function"&&C[O]!==M&&(delete C[O],b())}else b();j();function j(){for($=0;$<I.length;$++)A=T(C,O,I[$]),x=A?M[A]:M,a.nonEnum(x,{displayName:O,wrappedMethod:I[$],stackTraceError:new Error("Stack Trace for original"),restore:V}),x.restore.sinon=!0,u||v(x,k)}function V(){A=T(C,O,this.wrappedMethod);let H;if(A){if(d)u&&(H=o(C,O),H[A]=Y[A],Object.defineProperty(C,O,H));else try{delete C[O][A]}catch{}u?(H=o(C,O),H&&H.value===x&&(C[O][A]=this.wrappedMethod)):C[O][A]===x&&(C[O][A]=this.wrappedMethod)}else{if(d)u&&Object.defineProperty(C,O,Y);else try{delete C[O]}catch{}u?(H=o(C,O),H&&H.value===x&&(C[O]=this.wrappedMethod)):C[O]===x&&(C[O]=this.wrappedMethod)}p.get(C)==="stub-instance"&&(C[O]=n)}return M}},{"./extend":26,"./get-property-descriptor":29,"./sinon-type":35,"@sinonjs/commons":47}],40:[function(e,t,r){const n=e("./core/extend"),o=e("@sinonjs/fake-timers"),a=e("@sinonjs/commons").global;function p(S,E){let v=o;E!==null&&typeof E=="object"&&(v=o.withGlobal(E));const T=v.install(S);return T.restore=T.uninstall,T}function w(S,E){const v=a[E];typeof v<"u"&&(S[E]=v)}r.useFakeTimers=function(S){const E=typeof S<"u",v=(typeof S=="number"||S instanceof Date)&&arguments.length===1,T=S!==null&&typeof S=="object"&&arguments.length===1;if(!E)return p({now:0});if(v)return p({now:S});if(T){const u=n.nonEnum({},S),c=u.global;return delete u.global,p(u,c)}throw new TypeError("useFakeTimers expected epoch or config object. See https://github.com/sinonjs/sinon")},r.clock={create:function(S){return o.createClock(S)}};const l={setTimeout,clearTimeout,setInterval,clearInterval,Date};w(l,"setImmediate"),w(l,"clearImmediate"),r.timers=l},{"./core/extend":26,"@sinonjs/commons":47,"@sinonjs/fake-timers":60}],41:[function(e,t,r){var n=e("./prototypes/array").every;function o(w,l){return w[l.id]===void 0&&(w[l.id]=0),w[l.id]<l.callCount}function a(w,l,S,E){var v=!0;return S!==E.length-1&&(v=l.calledBefore(E[S+1])),o(w,l)&&v?(w[l.id]+=1,!0):!1}function p(w){var l={},S=arguments.length>1?arguments:w;return n(S,a.bind(null,l))}t.exports=p},{"./prototypes/array":49}],42:[function(e,t,r){function n(o){return o.constructor&&o.constructor.name||null}t.exports=n},{}],43:[function(e,t,r){r.wrap=function(n,o){var a=function(){return r.printWarning(o),n.apply(this,arguments)};return n.prototype&&(a.prototype=n.prototype),a},r.defaultMsg=function(n,o){return`${n}.${o} is deprecated and will be removed from the public API in a future version of ${n}.`},r.printWarning=function(n){typeof process=="object"&&process.emitWarning?process.emitWarning(n):console.info?console.info(n):console.log(n)}},{}],44:[function(e,t,r){t.exports=function(o,a){var p=!0;try{o.forEach(function(){if(!a.apply(this,arguments))throw new Error})}catch{p=!1}return p}},{}],45:[function(e,t,r){t.exports=function(o){if(!o)return"";try{return o.displayName||o.name||(String(o).match(/function ([^\s(]+)/)||[])[1]}catch{return""}}},{}],46:[function(e,t,r){var n;typeof global<"u"?n=global:typeof window<"u"?n=window:n=self,t.exports=n},{}],47:[function(e,t,r){t.exports={global:e("./global"),calledInOrder:e("./called-in-order"),className:e("./class-name"),deprecated:e("./deprecated"),every:e("./every"),functionName:e("./function-name"),orderByFirstCall:e("./order-by-first-call"),prototypes:e("./prototypes"),typeOf:e("./type-of"),valueToString:e("./value-to-string")}},{"./called-in-order":41,"./class-name":42,"./deprecated":43,"./every":44,"./function-name":45,"./global":46,"./order-by-first-call":48,"./prototypes":52,"./type-of":58,"./value-to-string":59}],48:[function(e,t,r){var n=e("./prototypes/array").sort,o=e("./prototypes/array").slice;function a(w,l){var S=w.getCall(0),E=l.getCall(0),v=S&&S.callId||-1,T=E&&E.callId||-1;return v<T?-1:1}function p(w){return n(o(w),a)}t.exports=p},{"./prototypes/array":49}],49:[function(e,t,r){var n=e("./copy-prototype-methods");t.exports=n(Array.prototype)},{"./copy-prototype-methods":50}],50:[function(e,t,r){var n=Function.call,o=e("./throws-on-proto"),a=["size","caller","callee","arguments"];o&&a.push("__proto__"),t.exports=function(w){return Object.getOwnPropertyNames(w).reduce(function(l,S){return a.includes(S)||typeof w[S]!="function"||(l[S]=n.bind(w[S])),l},Object.create(null))}},{"./throws-on-proto":57}],51:[function(e,t,r){var n=e("./copy-prototype-methods");t.exports=n(Function.prototype)},{"./copy-prototype-methods":50}],52:[function(e,t,r){t.exports={array:e("./array"),function:e("./function"),map:e("./map"),object:e("./object"),set:e("./set"),string:e("./string")}},{"./array":49,"./function":51,"./map":53,"./object":54,"./set":55,"./string":56}],53:[function(e,t,r){var n=e("./copy-prototype-methods");t.exports=n(Map.prototype)},{"./copy-prototype-methods":50}],54:[function(e,t,r){var n=e("./copy-prototype-methods");t.exports=n(Object.prototype)},{"./copy-prototype-methods":50}],55:[function(e,t,r){var n=e("./copy-prototype-methods");t.exports=n(Set.prototype)},{"./copy-prototype-methods":50}],56:[function(e,t,r){var n=e("./copy-prototype-methods");t.exports=n(String.prototype)},{"./copy-prototype-methods":50}],57:[function(e,t,r){let n;try{({}).__proto__,n=!1}catch{n=!0}t.exports=n},{}],58:[function(e,t,r){var n=e("type-detect");t.exports=function(a){return n(a).toLowerCase()}},{"type-detect":95}],59:[function(e,t,r){function n(o){return o&&o.toString?o.toString():String(o)}t.exports=n},{}],60:[function(e,t,r){const n=e("@sinonjs/commons").global;let o,a;if(typeof e=="function"&&typeof t=="object"){try{o=e("timers")}catch{}try{a=e("timers/promises")}catch{}}function p(l){const S=Math.pow(2,31)-1,E=1e12,v=function(){},T=function(){return[]},u={};let c,C=!1;l.setTimeout&&(u.setTimeout=!0,c=l.setTimeout(v,0),C=typeof c=="object"),u.clearTimeout=!!l.clearTimeout,u.setInterval=!!l.setInterval,u.clearInterval=!!l.clearInterval,u.hrtime=l.process&&typeof l.process.hrtime=="function",u.hrtimeBigint=u.hrtime&&typeof l.process.hrtime.bigint=="function",u.nextTick=l.process&&typeof l.process.nextTick=="function";const O=l.process&&e("util").promisify;u.performance=l.performance&&typeof l.performance.now=="function";const M=l.Performance&&(typeof l.Performance).match(/^(function|object)$/),h=l.performance&&l.performance.constructor&&l.performance.constructor.prototype;u.queueMicrotask=l.hasOwnProperty("queueMicrotask"),u.requestAnimationFrame=l.requestAnimationFrame&&typeof l.requestAnimationFrame=="function",u.cancelAnimationFrame=l.cancelAnimationFrame&&typeof l.cancelAnimationFrame=="function",u.requestIdleCallback=l.requestIdleCallback&&typeof l.requestIdleCallback=="function",u.cancelIdleCallbackPresent=l.cancelIdleCallback&&typeof l.cancelIdleCallback=="function",u.setImmediate=l.setImmediate&&typeof l.setImmediate=="function",u.clearImmediate=l.clearImmediate&&typeof l.clearImmediate=="function",u.Intl=l.Intl&&typeof l.Intl=="object",l.clearTimeout&&l.clearTimeout(c);const g=l.Date,k=l.Intl;let $=E;if(g===void 0)throw new Error("The global scope doesn't have a `Date` object (see https://github.com/sinonjs/sinon/issues/1852#issuecomment-419622780)");u.Date=!0;class Y{constructor(F,X,oe,y){this.name=F,this.entryType=X,this.startTime=oe,this.duration=y}toJSON(){return JSON.stringify({...this})}}function x(P){return Number.isFinite?Number.isFinite(P):isFinite(P)}let A=!1;function I(P,F){P.loopLimit&&F===P.loopLimit-1&&(A=!0)}function b(){A=!1}function d(P){if(!P)return 0;const F=P.split(":"),X=F.length;let oe=X,y=0,ae;if(X>3||!/^(\d\d:){0,2}\d\d?$/.test(P))throw new Error("tick only understands numbers, 'm:s' and 'h:m:s'. Each part must be two digits");for(;oe--;){if(ae=parseInt(F[oe],10),ae>=60)throw new Error(`Invalid time ${P}`);y+=ae*Math.pow(60,X-oe-1)}return y*1e3}function j(P){const X=P*1e6%1e6,oe=X<0?X+1e6:X;return Math.floor(oe)}function V(P){if(!P)return 0;if(typeof P.getTime=="function")return P.getTime();if(typeof P=="number")return P;throw new TypeError("now should be milliseconds since UNIX epoch")}function H(P,F,X){return X&&X.callAt>=P&&X.callAt<=F}function q(P,F){const X=new Error(`Aborting after running ${P.loopLimit} timers, assuming an infinite loop!`);if(!F.error)return X;const oe=/target\.*[<|(|[].*?[>|\]|)]\s*/;let y=new RegExp(String(Object.keys(P).join("|")));C&&(y=new RegExp(`\\s+at (Object\\.)?(?:${Object.keys(P).join("|")})\\s+`));let ae=-1;F.error.stack.split(`
`).some(function(fe,de){return fe.match(oe)?(ae=de,!0):fe.match(y)?(ae=de,!1):ae>=0});const ye=`${X}
${F.type||"Microtask"} - ${F.func.name||"anonymous"}
${F.error.stack.split(`
`).slice(ae+1).join(`
`)}`;try{Object.defineProperty(X,"stack",{value:ye})}catch{}return X}function G(){class P extends g{constructor(oe,y,ae,ye,fe,de,ce){arguments.length===0?super(P.clock.now):super(...arguments),Object.defineProperty(this,"constructor",{value:g,enumerable:!1})}static[Symbol.hasInstance](oe){return oe instanceof g}}return P.isFake=!0,g.now&&(P.now=function(){return P.clock.now}),g.toSource&&(P.toSource=function(){return g.toSource()}),P.toString=function(){return g.toString()},new Proxy(P,{apply(){if(this instanceof P)throw new TypeError("A Proxy should only capture `new` calls with the `construct` handler. This is not supposed to be possible, so check the logic.");return new g(P.clock.now).toString()}})}function ee(){const P={};return Object.getOwnPropertyNames(k).forEach(F=>P[F]=k[F]),P.DateTimeFormat=function(...F){const X=new k.DateTimeFormat(...F),oe={};return["formatRange","formatRangeToParts","resolvedOptions"].forEach(y=>{oe[y]=X[y].bind(X)}),["format","formatToParts"].forEach(y=>{oe[y]=function(ae){return X[y](ae||P.clock.now)}}),oe},P.DateTimeFormat.prototype=Object.create(k.DateTimeFormat.prototype),P.DateTimeFormat.supportedLocalesOf=k.DateTimeFormat.supportedLocalesOf,P}function he(P,F){P.jobs||(P.jobs=[]),P.jobs.push(F)}function D(P){if(P.jobs){for(let F=0;F<P.jobs.length;F++){const X=P.jobs[F];if(X.func.apply(null,X.args),I(P,F),P.loopLimit&&F>P.loopLimit)throw q(P,X)}b(),P.jobs=[]}}function J(P,F){if(F.func===void 0)throw new Error("Callback must be provided to timer calls");if(C&&typeof F.func!="function")throw new TypeError(`[ERR_INVALID_CALLBACK]: Callback must be a function. Received ${F.func} of type ${typeof F.func}`);if(A&&(F.error=new Error),F.type=F.immediate?"Immediate":"Timeout",F.hasOwnProperty("delay")&&(typeof F.delay!="number"&&(F.delay=parseInt(F.delay,10)),x(F.delay)||(F.delay=0),F.delay=F.delay>S?1:F.delay,F.delay=Math.max(0,F.delay)),F.hasOwnProperty("interval")&&(F.type="Interval",F.interval=F.interval>S?1:F.interval),F.hasOwnProperty("animation")&&(F.type="AnimationFrame",F.animation=!0),F.hasOwnProperty("idleCallback")&&(F.type="IdleCallback",F.idleCallback=!0),P.timers||(P.timers={}),F.id=$++,F.createdAt=P.now,F.callAt=P.now+(parseInt(F.delay)||(P.duringTick?1:0)),P.timers[F.id]=F,C){const X={refed:!0,ref:function(){return this.refed=!0,X},unref:function(){return this.refed=!1,X},hasRef:function(){return this.refed},refresh:function(){return F.callAt=P.now+(parseInt(F.delay)||(P.duringTick?1:0)),P.timers[F.id]=F,X},[Symbol.toPrimitive]:function(){return F.id}};return X}return F.id}function U(P,F){if(P.callAt<F.callAt)return-1;if(P.callAt>F.callAt)return 1;if(P.immediate&&!F.immediate)return-1;if(!P.immediate&&F.immediate)return 1;if(P.createdAt<F.createdAt)return-1;if(P.createdAt>F.createdAt)return 1;if(P.id<F.id)return-1;if(P.id>F.id)return 1}function z(P,F,X){const oe=P.timers;let y=null,ae,ye;for(ae in oe)oe.hasOwnProperty(ae)&&(ye=H(F,X,oe[ae]),ye&&(!y||U(y,oe[ae])===1)&&(y=oe[ae]));return y}function N(P){const F=P.timers;let X=null,oe;for(oe in F)F.hasOwnProperty(oe)&&(!X||U(X,F[oe])===1)&&(X=F[oe]);return X}function Z(P){const F=P.timers;let X=null,oe;for(oe in F)F.hasOwnProperty(oe)&&(!X||U(X,F[oe])===-1)&&(X=F[oe]);return X}function ie(P,F){if(typeof F.interval=="number"?P.timers[F.id].callAt+=F.interval:delete P.timers[F.id],typeof F.func=="function")F.func.apply(null,F.args);else{const X=eval;(function(){X(F.func)})()}}function ve(P){return P==="IdleCallback"||P==="AnimationFrame"?`cancel${P}`:`clear${P}`}function be(P){return P==="IdleCallback"||P==="AnimationFrame"?`request${P}`:`set${P}`}function Ne(){let P=0;return function(F){!P++&&console.warn(F)}}const _e=Ne();function Je(P,F,X){if(!F)return;P.timers||(P.timers={});const oe=Number(F);if(Number.isNaN(oe)||oe<E){const y=ve(X);if(P.shouldClearNativeTimers===!0){const ae=P[`_${y}`];return typeof ae=="function"?ae(F):void 0}_e(`FakeTimers: ${y} was invoked to clear a native timer instead of one created by this library.
To automatically clean-up native timers, use \`shouldClearNativeTimers\`.`)}if(P.timers.hasOwnProperty(oe)){const y=P.timers[oe];if(y.type===X||y.type==="Timeout"&&X==="Interval"||y.type==="Interval"&&X==="Timeout")delete P.timers[oe];else{const ae=ve(X),ye=be(y.type);throw new Error(`Cannot clear timer: timer created with ${ye}() but cleared with ${ae}()`)}}}function Le(P,F){let X,oe,y;const ae="_hrtime",ye="_nextTick";for(oe=0,y=P.methods.length;oe<y;oe++){if(X=P.methods[oe],X==="hrtime"&&l.process)l.process.hrtime=P[ae];else if(X==="nextTick"&&l.process)l.process.nextTick=P[ye];else if(X==="performance"){const fe=Object.getOwnPropertyDescriptor(P,`_${X}`);fe&&fe.get&&!fe.set?Object.defineProperty(l,X,fe):fe.configurable&&(l[X]=P[`_${X}`])}else if(l[X]&&l[X].hadOwnProperty)l[X]=P[`_${X}`];else try{delete l[X]}catch{}if(P.timersModuleMethods!==void 0)for(let fe=0;fe<P.timersModuleMethods.length;fe++){const de=P.timersModuleMethods[fe];o[de.methodName]=de.original}if(P.timersPromisesModuleMethods!==void 0)for(let fe=0;fe<P.timersPromisesModuleMethods.length;fe++){const de=P.timersPromisesModuleMethods[fe];a[de.methodName]=de.original}}F.shouldAdvanceTime===!0&&l.clearInterval(P.attachedInterval),P.methods=[];for(const[fe,de]of P.abortListenerMap.entries())de.removeEventListener("abort",fe),P.abortListenerMap.delete(fe);return P.timers?Object.keys(P.timers).map(function(de){return P.timers[de]}):[]}function Ze(P,F,X){if(X[F].hadOwnProperty=Object.prototype.hasOwnProperty.call(P,F),X[`_${F}`]=P[F],F==="Date")P[F]=X[F];else if(F==="Intl")P[F]=X[F];else if(F==="performance"){const oe=Object.getOwnPropertyDescriptor(P,F);if(oe&&oe.get&&!oe.set){Object.defineProperty(X,`_${F}`,oe);const y=Object.getOwnPropertyDescriptor(X,F);Object.defineProperty(P,F,y)}else P[F]=X[F]}else P[F]=function(){return X[F].apply(X,arguments)},Object.defineProperties(P[F],Object.getOwnPropertyDescriptors(X[F]));P[F].clock=X}function Ct(P,F){P.tick(F)}const Ie={setTimeout:l.setTimeout,clearTimeout:l.clearTimeout,setInterval:l.setInterval,clearInterval:l.clearInterval,Date:l.Date};u.setImmediate&&(Ie.setImmediate=l.setImmediate),u.clearImmediate&&(Ie.clearImmediate=l.clearImmediate),u.hrtime&&(Ie.hrtime=l.process.hrtime),u.nextTick&&(Ie.nextTick=l.process.nextTick),u.performance&&(Ie.performance=l.performance),u.requestAnimationFrame&&(Ie.requestAnimationFrame=l.requestAnimationFrame),u.queueMicrotask&&(Ie.queueMicrotask=l.queueMicrotask),u.cancelAnimationFrame&&(Ie.cancelAnimationFrame=l.cancelAnimationFrame),u.requestIdleCallback&&(Ie.requestIdleCallback=l.requestIdleCallback),u.cancelIdleCallback&&(Ie.cancelIdleCallback=l.cancelIdleCallback),u.Intl&&(Ie.Intl=l.Intl);const Ke=l.setImmediate||l.setTimeout;function yt(P,F){P=Math.floor(V(P)),F=F||1e3;let X=0;const oe=[0,0],y={now:P,Date:G(),loopLimit:F};y.Date.clock=y;function ae(){return 16-(y.now-P)%16}function ye(ce){const Q=y.now-oe[0]-P,se=Math.floor(Q/1e3),le=(Q-se*1e3)*1e6+X-oe[1];if(Array.isArray(ce)){if(ce[1]>1e9)throw new TypeError("Number of nanoseconds can't exceed a billion");const ge=ce[0];let xe=le-ce[1],Me=se-ge;return xe<0&&(xe+=1e9,Me-=1),[Me,xe]}return[se,le]}function fe(){const ce=ye();return ce[0]*1e3+ce[1]/1e6}u.hrtimeBigint&&(ye.bigint=function(){const ce=ye();return BigInt(ce[0])*BigInt(1e9)+BigInt(ce[1])}),u.Intl&&(y.Intl=ee(),y.Intl.clock=y),y.requestIdleCallback=function(Q,se){let le=0;y.countTimers()>0&&(le=50);const ge=J(y,{func:Q,args:Array.prototype.slice.call(arguments,2),delay:typeof se>"u"?le:Math.min(se,le),idleCallback:!0});return Number(ge)},y.cancelIdleCallback=function(Q){return Je(y,Q,"IdleCallback")},y.setTimeout=function(Q,se){return J(y,{func:Q,args:Array.prototype.slice.call(arguments,2),delay:se})},typeof l.Promise<"u"&&O&&(y.setTimeout[O.custom]=function(Q,se){return new l.Promise(function(ge){J(y,{func:ge,args:[se],delay:Q})})}),y.clearTimeout=function(Q){return Je(y,Q,"Timeout")},y.nextTick=function(Q){return he(y,{func:Q,args:Array.prototype.slice.call(arguments,1),error:A?new Error:null})},y.queueMicrotask=function(Q){return y.nextTick(Q)},y.setInterval=function(Q,se){return se=parseInt(se,10),J(y,{func:Q,args:Array.prototype.slice.call(arguments,2),delay:se,interval:se})},y.clearInterval=function(Q){return Je(y,Q,"Interval")},u.setImmediate&&(y.setImmediate=function(Q){return J(y,{func:Q,args:Array.prototype.slice.call(arguments,1),immediate:!0})},typeof l.Promise<"u"&&O&&(y.setImmediate[O.custom]=function(Q){return new l.Promise(function(le){J(y,{func:le,args:[Q],immediate:!0})})}),y.clearImmediate=function(Q){return Je(y,Q,"Immediate")}),y.countTimers=function(){return Object.keys(y.timers||{}).length+(y.jobs||[]).length},y.requestAnimationFrame=function(Q){const se=J(y,{func:Q,delay:ae(),get args(){return[fe()]},animation:!0});return Number(se)},y.cancelAnimationFrame=function(Q){return Je(y,Q,"AnimationFrame")},y.runMicrotasks=function(){D(y)};function de(ce,Q,se,le){const ge=typeof ce=="number"?ce:d(ce),xe=Math.floor(ge),Me=j(ge);let Fe=X+Me,Oe=y.now+xe;if(ge<0)throw new TypeError("Negative ticks are not supported");Fe>=1e6&&(Oe+=1,Fe-=1e6),X=Fe;let ze=y.now,it=y.now,Ge,L,K,ue,we,at;y.duringTick=!0,K=y.now,D(y),K!==y.now&&(ze+=y.now-K,Oe+=y.now-K);function ct(){for(Ge=z(y,ze,Oe);Ge&&ze<=Oe;){if(y.timers[Ge.id]){ze=Ge.callAt,y.now=Ge.callAt,K=y.now;try{D(y),ie(y,Ge)}catch(lt){L=L||lt}if(Q){Ke(ue);return}we()}at()}if(K=y.now,D(y),K!==y.now&&(ze+=y.now-K,Oe+=y.now-K),y.duringTick=!1,Ge=z(y,ze,Oe),Ge)try{y.tick(Oe-y.now)}catch(lt){L=L||lt}else y.now=Oe,X=Fe;if(L)throw L;if(Q)se(y.now);else return y.now}return ue=Q&&function(){try{we(),at(),ct()}catch(lt){le(lt)}},we=function(){K!==y.now&&(ze+=y.now-K,Oe+=y.now-K,it+=y.now-K)},at=function(){Ge=z(y,it,Oe),it=ze},ct()}return y.tick=function(Q){return de(Q,!1)},typeof l.Promise<"u"&&(y.tickAsync=function(Q){return new l.Promise(function(se,le){Ke(function(){try{de(Q,!0,se,le)}catch(ge){le(ge)}})})}),y.next=function(){D(y);const Q=N(y);if(!Q)return y.now;y.duringTick=!0;try{return y.now=Q.callAt,ie(y,Q),D(y),y.now}finally{y.duringTick=!1}},typeof l.Promise<"u"&&(y.nextAsync=function(){return new l.Promise(function(Q,se){Ke(function(){try{const le=N(y);if(!le){Q(y.now);return}let ge;y.duringTick=!0,y.now=le.callAt;try{ie(y,le)}catch(xe){ge=xe}y.duringTick=!1,Ke(function(){ge?se(ge):Q(y.now)})}catch(le){se(le)}})})}),y.runAll=function(){let Q,se;for(D(y),se=0;se<y.loopLimit;se++){if(!y.timers||(Q=Object.keys(y.timers).length,Q===0))return b(),y.now;y.next(),I(y,se)}const le=N(y);throw q(y,le)},y.runToFrame=function(){return y.tick(ae())},typeof l.Promise<"u"&&(y.runAllAsync=function(){return new l.Promise(function(Q,se){let le=0;function ge(){Ke(function(){try{D(y);let xe;if(le<y.loopLimit){if(!y.timers){b(),Q(y.now);return}if(xe=Object.keys(y.timers).length,xe===0){b(),Q(y.now);return}y.next(),le++,ge(),I(y,le);return}const Me=N(y);se(q(y,Me))}catch(xe){se(xe)}})}ge()})}),y.runToLast=function(){const Q=Z(y);return Q?y.tick(Q.callAt-y.now):(D(y),y.now)},typeof l.Promise<"u"&&(y.runToLastAsync=function(){return new l.Promise(function(Q,se){Ke(function(){try{const le=Z(y);le||(D(y),Q(y.now)),Q(y.tickAsync(le.callAt-y.now))}catch(le){se(le)}})})}),y.reset=function(){X=0,y.timers={},y.jobs=[],y.now=P},y.setSystemTime=function(Q){const se=V(Q),le=se-y.now;let ge,xe;oe[0]=oe[0]+le,oe[1]=oe[1]+X,y.now=se,X=0;for(ge in y.timers)y.timers.hasOwnProperty(ge)&&(xe=y.timers[ge],xe.createdAt+=le,xe.callAt+=le)},y.jump=function(Q){const se=typeof Q=="number"?Q:d(Q),le=Math.floor(se);for(const ge of Object.values(y.timers))y.now+le>ge.callAt&&(ge.callAt=y.now+le);y.tick(le)},u.performance&&(y.performance=Object.create(null),y.performance.now=fe),u.hrtime&&(y.hrtime=ye),y}function ft(P){if(arguments.length>1||P instanceof Date||Array.isArray(P)||typeof P=="number")throw new TypeError(`FakeTimers.install called with ${String(P)} install requires an object parameter`);if(l.Date.isFake===!0)throw new TypeError("Can't install fake timers twice on the same global object.");if(P=typeof P<"u"?P:{},P.shouldAdvanceTime=P.shouldAdvanceTime||!1,P.advanceTimeDelta=P.advanceTimeDelta||20,P.shouldClearNativeTimers=P.shouldClearNativeTimers||!1,P.target)throw new TypeError("config.target is no longer supported. Use `withGlobal(target)` instead.");function F(ae){if(!P.ignoreMissingTimers)throw new ReferenceError(`non-existent timers and/or objects cannot be faked: '${ae}'`)}let X,oe;const y=yt(P.now,P.loopLimit);if(y.shouldClearNativeTimers=P.shouldClearNativeTimers,y.uninstall=function(){return Le(y,P)},y.abortListenerMap=new Map,y.methods=P.toFake||[],y.methods.length===0&&(y.methods=Object.keys(Ie)),P.shouldAdvanceTime===!0){const ae=Ct.bind(null,y,P.advanceTimeDelta),ye=l.setInterval(ae,P.advanceTimeDelta);y.attachedInterval=ye}if(y.methods.includes("performance")){const ae=(()=>{if(h)return l.performance.constructor.prototype;if(M)return l.Performance.prototype})();if(ae)Object.getOwnPropertyNames(ae).forEach(function(ye){ye!=="now"&&(y.performance[ye]=ye.indexOf("getEntries")===0?T:v)}),y.performance.mark=ye=>new Y(ye,"mark",0,0),y.performance.measure=ye=>new Y(ye,"measure",0,100);else if((P.toFake||[]).includes("performance"))return F("performance")}for(l===n&&o&&(y.timersModuleMethods=[]),l===n&&a&&(y.timersPromisesModuleMethods=[]),X=0,oe=y.methods.length;X<oe;X++){const ae=y.methods[X];if(!u[ae]){F(ae);continue}if(ae==="hrtime"?l.process&&typeof l.process.hrtime=="function"&&Ze(l.process,ae,y):ae==="nextTick"?l.process&&typeof l.process.nextTick=="function"&&Ze(l.process,ae,y):Ze(l,ae,y),y.timersModuleMethods!==void 0&&o[ae]){const ye=o[ae];y.timersModuleMethods.push({methodName:ae,original:ye}),o[ae]=l[ae]}y.timersPromisesModuleMethods!==void 0&&(ae==="setTimeout"?(y.timersPromisesModuleMethods.push({methodName:"setTimeout",original:a.setTimeout}),a.setTimeout=(ye,fe,de={})=>new Promise((ce,Q)=>{const se=()=>{de.signal.removeEventListener("abort",se),y.abortListenerMap.delete(se),y.clearTimeout(le),Q(de.signal.reason)},le=y.setTimeout(()=>{de.signal&&(de.signal.removeEventListener("abort",se),y.abortListenerMap.delete(se)),ce(fe)},ye);de.signal&&(de.signal.aborted?se():(de.signal.addEventListener("abort",se),y.abortListenerMap.set(se,de.signal)))})):ae==="setImmediate"?(y.timersPromisesModuleMethods.push({methodName:"setImmediate",original:a.setImmediate}),a.setImmediate=(ye,fe={})=>new Promise((de,ce)=>{const Q=()=>{fe.signal.removeEventListener("abort",Q),y.abortListenerMap.delete(Q),y.clearImmediate(se),ce(fe.signal.reason)},se=y.setImmediate(()=>{fe.signal&&(fe.signal.removeEventListener("abort",Q),y.abortListenerMap.delete(Q)),de(ye)});fe.signal&&(fe.signal.aborted?Q():(fe.signal.addEventListener("abort",Q),y.abortListenerMap.set(Q,fe.signal)))})):ae==="setInterval"&&(y.timersPromisesModuleMethods.push({methodName:"setInterval",original:a.setInterval}),a.setInterval=(ye,fe,de={})=>({[Symbol.asyncIterator]:()=>{const ce=()=>{let Oe,ze;const it=new Promise((Ge,L)=>{Oe=Ge,ze=L});return it.resolve=Oe,it.reject=ze,it};let Q=!1,se=!1,le,ge=0;const xe=[],Me=y.setInterval(()=>{xe.length>0?xe.shift().resolve():ge++},ye),Fe=()=>{de.signal.removeEventListener("abort",Fe),y.abortListenerMap.delete(Fe),y.clearInterval(Me),Q=!0;for(const Oe of xe)Oe.resolve()};return de.signal&&(de.signal.aborted?Q=!0:(de.signal.addEventListener("abort",Fe),y.abortListenerMap.set(Fe,de.signal))),{next:async()=>{if(de.signal?.aborted&&!se)throw se=!0,de.signal.reason;if(Q)return{done:!0,value:void 0};if(ge>0)return ge--,{done:!1,value:fe};const Oe=ce();if(xe.push(Oe),await Oe,le&&xe.length===0&&le.resolve(),de.signal?.aborted&&!se)throw se=!0,de.signal.reason;return Q?{done:!0,value:void 0}:{done:!1,value:fe}},return:async()=>Q?{done:!0,value:void 0}:(xe.length>0&&(le=ce(),await le),y.clearInterval(Me),Q=!0,de.signal&&(de.signal.removeEventListener("abort",Fe),y.abortListenerMap.delete(Fe)),{done:!0,value:void 0})}}})))}return y}return{timers:Ie,createClock:yt,install:ft,withGlobal:p}}const w=p(n);r.timers=w.timers,r.createClock=w.createClock,r.install=w.install,r.withGlobal=p},{"@sinonjs/commons":47,timers:void 0,"timers/promises":void 0,util:91}],61:[function(e,t,r){var n=[Array,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];t.exports=n},{}],62:[function(e,t,r){var n=e("@sinonjs/commons").prototypes.array,o=e("./deep-equal").use(x),a=e("@sinonjs/commons").every,p=e("@sinonjs/commons").functionName,w=e("lodash.get"),l=e("./iterable-to-string"),S=e("@sinonjs/commons").prototypes.object,E=e("@sinonjs/commons").typeOf,v=e("@sinonjs/commons").valueToString,T=e("./create-matcher/assert-matcher"),u=e("./create-matcher/assert-method-exists"),c=e("./create-matcher/assert-type"),C=e("./create-matcher/is-iterable"),O=e("./create-matcher/is-matcher"),M=e("./create-matcher/matcher-prototype"),h=n.indexOf,g=n.some,k=S.hasOwnProperty,$=S.toString,Y=e("./create-matcher/type-map")(x);function x(b,d){var j=Object.create(M),V=E(b);if(d!==void 0&&typeof d!="string")throw new TypeError("Message should be a string");if(arguments.length>2)throw new TypeError(`Expected 1 or 2 arguments, received ${arguments.length}`);return V in Y?Y[V](j,b,d):j.test=function(H){return o(H,b)},j.message||(j.message=`match(${v(b)})`),Object.defineProperty(j,"message",{configurable:!1,writable:!1,value:j.message}),j}x.isMatcher=O,x.any=x(function(){return!0},"any"),x.defined=x(function(b){return b!=null},"defined"),x.truthy=x(function(b){return!!b},"truthy"),x.falsy=x(function(b){return!b},"falsy"),x.same=function(b){return x(function(d){return b===d},`same(${v(b)})`)},x.in=function(b){if(E(b)!=="array")throw new TypeError("array expected");return x(function(d){return g(b,function(j){return j===d})},`in(${v(b)})`)},x.typeOf=function(b){return c(b,"string","type"),x(function(d){return E(d)===b},`typeOf("${b}")`)},x.instanceOf=function(b){return typeof Symbol>"u"||typeof Symbol.hasInstance>"u"?c(b,"function","type"):u(b,Symbol.hasInstance,"type","[Symbol.hasInstance]"),x(function(d){return d instanceof b},`instanceOf(${p(b)||$(b)})`)};function A(b,d){return function(j,V){c(j,"string","property");var H=arguments.length===1,q=`${d}("${j}"`;return H||(q+=`, ${v(V)}`),q+=")",x(function(G){return G==null||!b(G,j)?!1:H||o(G[j],V)},q)}}x.has=A(function(b,d){return typeof b=="object"?d in b:b[d]!==void 0},"has"),x.hasOwn=A(function(b,d){return k(b,d)},"hasOwn"),x.hasNested=function(b,d){c(b,"string","property");var j=arguments.length===1,V=`hasNested("${b}"`;return j||(V+=`, ${v(d)}`),V+=")",x(function(H){return H==null||w(H,b)===void 0?!1:j||o(w(H,b),d)},V)};var I={null:!0,boolean:!0,number:!0,string:!0,object:!0,array:!0};x.json=function(b){if(!I[E(b)])throw new TypeError("Value cannot be the result of JSON.parse");var d=`json(${JSON.stringify(b,null,"  ")})`;return x(function(j){var V;try{V=JSON.parse(j)}catch{return!1}return o(V,b)},d)},x.every=function(b){return T(b),x(function(d){return E(d)==="object"?a(Object.keys(d),function(j){return b.test(d[j])}):C(d)&&a(d,function(j){return b.test(j)})},`every(${b.message})`)},x.some=function(b){return T(b),x(function(d){return E(d)==="object"?!a(Object.keys(d),function(j){return!b.test(d[j])}):C(d)&&!a(d,function(j){return!b.test(j)})},`some(${b.message})`)},x.array=x.typeOf("array"),x.array.deepEquals=function(b){return x(function(d){var j=d.length===b.length;return E(d)==="array"&&j&&a(d,function(V,H){var q=b[H];return E(q)==="array"&&E(V)==="array"?x.array.deepEquals(q).test(V):o(q,V)})},`deepEquals([${l(b)}])`)},x.array.startsWith=function(b){return x(function(d){return E(d)==="array"&&a(b,function(j,V){return d[V]===j})},`startsWith([${l(b)}])`)},x.array.endsWith=function(b){return x(function(d){var j=d.length-b.length;return E(d)==="array"&&a(b,function(V,H){return d[j+H]===V})},`endsWith([${l(b)}])`)},x.array.contains=function(b){return x(function(d){return E(d)==="array"&&a(b,function(j){return h(d,j)!==-1})},`contains([${l(b)}])`)},x.map=x.typeOf("map"),x.map.deepEquals=function(d){return x(function(j){var V=j.size===d.size;return E(j)==="map"&&V&&a(j,function(H,q){return d.has(q)&&d.get(q)===H})},`deepEquals(Map[${l(d)}])`)},x.map.contains=function(d){return x(function(j){return E(j)==="map"&&a(d,function(V,H){return j.has(H)&&j.get(H)===V})},`contains(Map[${l(d)}])`)},x.set=x.typeOf("set"),x.set.deepEquals=function(d){return x(function(j){var V=j.size===d.size;return E(j)==="set"&&V&&a(j,function(H){return d.has(H)})},`deepEquals(Set[${l(d)}])`)},x.set.contains=function(d){return x(function(j){return E(j)==="set"&&a(d,function(V){return j.has(V)})},`contains(Set[${l(d)}])`)},x.bool=x.typeOf("boolean"),x.number=x.typeOf("number"),x.string=x.typeOf("string"),x.object=x.typeOf("object"),x.func=x.typeOf("function"),x.regexp=x.typeOf("regexp"),x.date=x.typeOf("date"),x.symbol=x.typeOf("symbol"),t.exports=x},{"./create-matcher/assert-matcher":63,"./create-matcher/assert-method-exists":64,"./create-matcher/assert-type":65,"./create-matcher/is-iterable":66,"./create-matcher/is-matcher":67,"./create-matcher/matcher-prototype":69,"./create-matcher/type-map":70,"./deep-equal":71,"./iterable-to-string":85,"@sinonjs/commons":47,"lodash.get":93}],63:[function(e,t,r){var n=e("./is-matcher");function o(a){if(!n(a))throw new TypeError("Matcher expected")}t.exports=o},{"./is-matcher":67}],64:[function(e,t,r){function n(o,a,p,w){if(o[a]===null||o[a]===void 0)throw new TypeError(`Expected ${p} to have method ${w}`)}t.exports=n},{}],65:[function(e,t,r){var n=e("@sinonjs/commons").typeOf;function o(a,p,w){var l=n(a);if(l!==p)throw new TypeError(`Expected type of ${w} to be ${p}, but was ${l}`)}t.exports=o},{"@sinonjs/commons":47}],66:[function(e,t,r){var n=e("@sinonjs/commons").typeOf;function o(a){return!!a&&n(a.forEach)==="function"}t.exports=o},{"@sinonjs/commons":47}],67:[function(e,t,r){var n=e("@sinonjs/commons").prototypes.object.isPrototypeOf,o=e("./matcher-prototype");function a(p){return n(o,p)}t.exports=a},{"./matcher-prototype":69,"@sinonjs/commons":47}],68:[function(e,t,r){var n=e("@sinonjs/commons").prototypes.array.every,o=e("@sinonjs/commons").prototypes.array.concat,a=e("@sinonjs/commons").typeOf,p=e("../deep-equal").use,w=e("../identical"),l=e("./is-matcher"),S=Object.keys,E=Object.getOwnPropertySymbols;function v(T,u,c){var C=p(c);if(T==null)return!1;var O=S(u);return a(E)==="function"&&(O=o(O,E(u))),n(O,function(M){var h=u[M],g=T[M];if(l(h)){if(!h.test(g))return!1}else if(a(h)==="object"){if(w(h,g))return!0;if(!v(g,h,c))return!1}else if(!C(g,h))return!1;return!0})}t.exports=v},{"../deep-equal":71,"../identical":73,"./is-matcher":67,"@sinonjs/commons":47}],69:[function(e,t,r){var n={toString:function(){return this.message}};n.or=function(o){var a=e("../create-matcher"),p=a.isMatcher;if(!arguments.length)throw new TypeError("Matcher expected");var w=p(o)?o:a(o),l=this,S=Object.create(n);return S.test=function(E){return l.test(E)||w.test(E)},S.message=`${l.message}.or(${w.message})`,S},n.and=function(o){var a=e("../create-matcher"),p=a.isMatcher;if(!arguments.length)throw new TypeError("Matcher expected");var w=p(o)?o:a(o),l=this,S=Object.create(n);return S.test=function(E){return l.test(E)&&w.test(E)},S.message=`${l.message}.and(${w.message})`,S},t.exports=n},{"../create-matcher":62}],70:[function(e,t,r){var n=e("@sinonjs/commons").functionName,o=e("@sinonjs/commons").prototypes.array.join,a=e("@sinonjs/commons").prototypes.array.map,p=e("@sinonjs/commons").prototypes.string.indexOf,w=e("@sinonjs/commons").valueToString,l=e("./match-object"),S=function(E){return{function:function(v,T,u){v.test=T,v.message=u||`match(${n(T)})`},number:function(v,T){v.test=function(u){return T==u}},object:function(v,T){var u=[];return typeof T.test=="function"?(v.test=function(c){return T.test(c)===!0},v.message=`match(${n(T.test)})`,v):(u=a(Object.keys(T),function(c){return`${c}: ${w(T[c])}`}),v.test=function(c){return l(c,T,E)},v.message=`match(${o(u,", ")})`,v)},regexp:function(v,T){v.test=function(u){return typeof u=="string"&&T.test(u)}},string:function(v,T){v.test=function(u){return typeof u=="string"&&p(u,T)!==-1},v.message=`match("${T}")`}}};t.exports=S},{"./match-object":68,"@sinonjs/commons":47}],71:[function(e,t,r){var n=e("@sinonjs/commons").valueToString,o=e("@sinonjs/commons").className,a=e("@sinonjs/commons").typeOf,p=e("@sinonjs/commons").prototypes.array,w=e("@sinonjs/commons").prototypes.object,l=e("@sinonjs/commons").prototypes.map.forEach,S=e("./get-class"),E=e("./identical"),v=e("./is-arguments"),T=e("./is-array-type"),u=e("./is-date"),c=e("./is-element"),C=e("./is-iterable"),O=e("./is-map"),M=e("./is-nan"),h=e("./is-object"),g=e("./is-set"),k=e("./is-subset"),$=p.concat,Y=p.every,x=p.push,A=Date.prototype.getTime,I=w.hasOwnProperty,b=p.indexOf,d=Object.keys,j=Object.getOwnPropertySymbols;function V(H,q,G){var ee=[],he=[],D=[],J=[],U={};return(function z(N,Z,ie,ve){if(G&&G.isMatcher(Z))return G.isMatcher(N)?N===Z:Z.test(N);var be=typeof N,Ne=typeof Z;if(N===Z||M(N)||M(Z)||N===null||Z===null||N===void 0||Z===void 0||be!=="object"||Ne!=="object")return E(N,Z);if(c(N)||c(Z))return!1;var _e=u(N),Je=u(Z);if((_e||Je)&&(!_e||!Je||A.call(N)!==A.call(Z))||N instanceof RegExp&&Z instanceof RegExp&&n(N)!==n(Z))return!1;if(N instanceof Promise&&Z instanceof Promise||N instanceof Error&&Z instanceof Error)return N===Z;var Le=S(N),Ze=S(Z),Ct=d(N),Ie=d(Z),Ke=o(N),yt=o(Z),ft=a(j)==="function"?j(Z):[],P=$(Ie,ft);if(v(N)||v(Z)){if(N.length!==Z.length)return!1}else if(be!==Ne||Le!==Ze||Ct.length!==Ie.length||Ke&&yt&&Ke!==yt)return!1;if(g(N)||g(Z))return!g(N)||!g(Z)||N.size!==Z.size?!1:k(N,Z,z);if(O(N)||O(Z)){if(!O(N)||!O(Z)||N.size!==Z.size)return!1;var F=!0;return l(N,function(fe,de){F=F&&V(fe,Z.get(de))}),F}if(N.constructor&&N.constructor.name==="jQuery"&&typeof N.is=="function")return N.is(Z);var X=C(N)&&!T(N)&&!v(N),oe=C(Z)&&!T(Z)&&!v(Z);if(X||oe){var y=Array.from(N),ae=Array.from(Z);if(y.length!==ae.length)return!1;var ye=!0;return Y(y,function(fe){ye=ye&&V(y[fe],ae[fe])}),ye}return Y(P,function(fe){if(!I(N,fe))return!1;var de=N[fe],ce=Z[fe],Q=h(de),se=h(ce),le=Q?b(ee,de):-1,ge=se?b(he,ce):-1,xe=le!==-1?D[le]:`${ie}[${JSON.stringify(fe)}]`,Me=ge!==-1?J[ge]:`${ve}[${JSON.stringify(fe)}]`,Fe=xe+Me;return U[Fe]?!0:(le===-1&&Q&&(x(ee,de),x(D,xe)),ge===-1&&se&&(x(he,ce),x(J,Me)),Q&&se&&(U[Fe]=!0),z(de,ce,xe,Me))})})(H,q,"$1","$2")}V.use=function(H){return function(G,ee){return V(G,ee,H)}},t.exports=V},{"./get-class":72,"./identical":73,"./is-arguments":74,"./is-array-type":75,"./is-date":76,"./is-element":77,"./is-iterable":78,"./is-map":79,"./is-nan":80,"./is-object":82,"./is-set":83,"./is-subset":84,"@sinonjs/commons":47}],72:[function(e,t,r){var n=e("@sinonjs/commons").prototypes.object.toString;function o(a){return n(a).split(/[ \]]/)[1]}t.exports=o},{"@sinonjs/commons":47}],73:[function(e,t,r){var n=e("./is-nan"),o=e("./is-neg-zero");function a(p,w){return p===w||n(p)&&n(w)?p!==0||o(p)===o(w):!1}t.exports=a},{"./is-nan":80,"./is-neg-zero":81}],74:[function(e,t,r){var n=e("./get-class");function o(a){return n(a)==="Arguments"}t.exports=o},{"./get-class":72}],75:[function(e,t,r){var n=e("@sinonjs/commons").functionName,o=e("@sinonjs/commons").prototypes.array.indexOf,a=e("@sinonjs/commons").prototypes.array.map,p=e("./array-types"),w=e("type-detect");function l(S){return o(a(p,n),w(S))!==-1}t.exports=l},{"./array-types":61,"@sinonjs/commons":47,"type-detect":88}],76:[function(e,t,r){function n(o){return o instanceof Date}t.exports=n},{}],77:[function(e,t,r){var n=typeof document<"u"&&document.createElement("div");function o(a){if(!a||a.nodeType!==1||!n)return!1;try{a.appendChild(n),a.removeChild(n)}catch{return!1}return!0}t.exports=o},{}],78:[function(e,t,r){function n(o){return typeof o!="object"?!1:typeof o[Symbol.iterator]=="function"}t.exports=n},{}],79:[function(e,t,r){function n(o){return typeof Map<"u"&&o instanceof Map}t.exports=n},{}],80:[function(e,t,r){function n(o){return typeof o=="number"&&o!==o}t.exports=n},{}],81:[function(e,t,r){function n(o){return o===0&&1/o===-1/0}t.exports=n},{}],82:[function(e,t,r){function n(o){return typeof o=="object"&&o!==null&&!(o instanceof Boolean)&&!(o instanceof Date)&&!(o instanceof Error)&&!(o instanceof Number)&&!(o instanceof RegExp)&&!(o instanceof String)}t.exports=n},{}],83:[function(e,t,r){function n(o){return typeof Set<"u"&&o instanceof Set||!1}t.exports=n},{}],84:[function(e,t,r){var n=e("@sinonjs/commons").prototypes.set.forEach;function o(a,p,w){var l=!0;return n(a,function(S){var E=!1;n(p,function(v){w(v,S)&&(E=!0)}),l=l&&E}),l}t.exports=o},{"@sinonjs/commons":47}],85:[function(e,t,r){var n=e("@sinonjs/commons").prototypes.string.slice,o=e("@sinonjs/commons").typeOf,a=e("@sinonjs/commons").valueToString;function p(E){return o(E)==="map"?w(E):l(E)}function w(E){var v="";return E.forEach(function(T,u){v+=`[${S(u)},${S(T)}],`}),v=n(v,0,-1),v}function l(E){var v="";return E.forEach(function(T){v+=`${S(T)},`}),v=n(v,0,-1),v}function S(E){return typeof E=="string"?`'${E}'`:a(E)}t.exports=p},{"@sinonjs/commons":47}],86:[function(e,t,r){var n=e("@sinonjs/commons").valueToString,o=e("@sinonjs/commons").prototypes.string.indexOf,a=e("@sinonjs/commons").prototypes.array.forEach,p=e("type-detect"),w=typeof Array.from=="function",l=e("./deep-equal").use(u),S=e("./is-array-type"),E=e("./is-subset"),v=e("./create-matcher");function T(c,C,O){if(C.length===0)return!0;var M,h,g,k;for(M=0,h=c.length;M<h;++M)if(O(c[M],C[0])){for(g=0,k=C.length;g<k;++g)if(M+g>=h||!O(c[M+g],C[g]))return!1;return!0}return!1}function u(c,C){if(C&&typeof C.test=="function")return C.test(c);switch(p(C)){case"bigint":case"boolean":case"number":case"symbol":return C===c;case"function":return C(c)===!0;case"string":var O=typeof c=="string"||!!c;return O&&o(n(c).toLowerCase(),C.toLowerCase())>=0;case"null":return c===null;case"undefined":return typeof c>"u";case"Date":if(p(c)==="Date")return c.getTime()===C.getTime();break;case"Array":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":return S(C)&&T(c,C,u);case"Map":if(!w)throw new Error("The JavaScript engine does not support Array.from and cannot reliably do value comparison of Map instances");return p(c)==="Map"&&T(Array.from(c),Array.from(C),u)}switch(p(c)){case"null":return!1;case"Set":return E(C,c,u)}if(C&&typeof C=="object"){if(C===c)return!0;if(typeof c!="object")return!1;var M;for(M in C){var h=c[M];if(typeof h>"u"&&typeof c.getAttribute=="function"&&(h=c.getAttribute(M)),C[M]===null||typeof C[M]>"u"){if(h!==C[M])return!1}else if(typeof h>"u"||!l(h,C[M]))return!1}return!0}throw new Error("Matcher was an unknown or unsupported type")}a(Object.keys(v),function(c){u[c]=v[c]}),t.exports=u},{"./create-matcher":62,"./deep-equal":71,"./is-array-type":75,"./is-subset":84,"@sinonjs/commons":47,"type-detect":88}],87:[function(e,t,r){var n=e("./identical"),o=e("./is-arguments"),a=e("./is-element"),p=e("./is-neg-zero"),w=e("./is-set"),l=e("./is-map"),S=e("./match"),E=e("./deep-equal").use(S),v=e("./create-matcher");t.exports={createMatcher:v,deepEqual:E,identical:n,isArguments:o,isElement:a,isMap:l,isNegZero:p,isSet:w,match:S}},{"./create-matcher":62,"./deep-equal":71,"./identical":73,"./is-arguments":74,"./is-element":77,"./is-map":79,"./is-neg-zero":81,"./is-set":83,"./match":86}],88:[function(e,t,r){(function(n,o){typeof r=="object"&&typeof t<"u"?t.exports=o():typeof define=="function"&&define.amd?define(o):(n=typeof globalThis<"u"?globalThis:n||self,n.typeDetect=o())})(this,(function(){var n=typeof Promise=="function",o=(function(A){if(typeof globalThis=="object")return globalThis;Object.defineProperty(A,"typeDetectGlobalObject",{get:function(){return this},configurable:!0});var I=typeDetectGlobalObject;return delete A.typeDetectGlobalObject,I})(Object.prototype),a=typeof Symbol<"u",p=typeof Map<"u",w=typeof Set<"u",l=typeof WeakMap<"u",S=typeof WeakSet<"u",E=typeof DataView<"u",v=a&&typeof Symbol.iterator<"u",T=a&&typeof Symbol.toStringTag<"u",u=w&&typeof Set.prototype.entries=="function",c=p&&typeof Map.prototype.entries=="function",C=u&&Object.getPrototypeOf(new Set().entries()),O=c&&Object.getPrototypeOf(new Map().entries()),M=v&&typeof Array.prototype[Symbol.iterator]=="function",h=M&&Object.getPrototypeOf([][Symbol.iterator]()),g=v&&typeof String.prototype[Symbol.iterator]=="function",k=g&&Object.getPrototypeOf(""[Symbol.iterator]()),$=8,Y=-1;function x(A){var I=typeof A;if(I!=="object")return I;if(A===null)return"null";if(A===o)return"global";if(Array.isArray(A)&&(T===!1||!(Symbol.toStringTag in A)))return"Array";if(typeof window=="object"&&window!==null){if(typeof window.location=="object"&&A===window.location)return"Location";if(typeof window.document=="object"&&A===window.document)return"Document";if(typeof window.navigator=="object"){if(typeof window.navigator.mimeTypes=="object"&&A===window.navigator.mimeTypes)return"MimeTypeArray";if(typeof window.navigator.plugins=="object"&&A===window.navigator.plugins)return"PluginArray"}if((typeof window.HTMLElement=="function"||typeof window.HTMLElement=="object")&&A instanceof window.HTMLElement){if(A.tagName==="BLOCKQUOTE")return"HTMLQuoteElement";if(A.tagName==="TD")return"HTMLTableDataCellElement";if(A.tagName==="TH")return"HTMLTableHeaderCellElement"}}var b=T&&A[Symbol.toStringTag];if(typeof b=="string")return b;var d=Object.getPrototypeOf(A);return d===RegExp.prototype?"RegExp":d===Date.prototype?"Date":n&&d===Promise.prototype?"Promise":w&&d===Set.prototype?"Set":p&&d===Map.prototype?"Map":S&&d===WeakSet.prototype?"WeakSet":l&&d===WeakMap.prototype?"WeakMap":E&&d===DataView.prototype?"DataView":p&&d===O?"Map Iterator":w&&d===C?"Set Iterator":M&&d===h?"Array Iterator":g&&d===k?"String Iterator":d===null?"Object":Object.prototype.toString.call(A).slice($,Y)}return x}))},{}],89:[function(e,t,r){typeof Object.create=="function"?t.exports=function(o,a){o.super_=a,o.prototype=Object.create(a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(o,a){o.super_=a;var p=function(){};p.prototype=a.prototype,o.prototype=new p,o.prototype.constructor=o}},{}],90:[function(e,t,r){t.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],91:[function(e,t,r){var n=/%[sdj%]/g;r.format=function(D){if(!$(D)){for(var J=[],U=0;U<arguments.length;U++)J.push(p(arguments[U]));return J.join(" ")}for(var U=1,z=arguments,N=z.length,Z=String(D).replace(n,function(ve){if(ve==="%%")return"%";if(U>=N)return ve;switch(ve){case"%s":return String(z[U++]);case"%d":return Number(z[U++]);case"%j":try{return JSON.stringify(z[U++])}catch{return"[Circular]"}default:return ve}}),ie=z[U];U<N;ie=z[++U])h(ie)||!I(ie)?Z+=" "+ie:Z+=" "+p(ie);return Z},r.deprecate=function(D,J){if(x(global.process))return function(){return r.deprecate(D,J).apply(this,arguments)};if(process.noDeprecation===!0)return D;var U=!1;function z(){if(!U){if(process.throwDeprecation)throw new Error(J);process.traceDeprecation?console.trace(J):console.error(J),U=!0}return D.apply(this,arguments)}return z};var o={},a;r.debuglog=function(D){if(x(a)&&(a=Mo.NODE_DEBUG||""),D=D.toUpperCase(),!o[D])if(new RegExp("\\b"+D+"\\b","i").test(a)){var J=process.pid;o[D]=function(){var U=r.format.apply(r,arguments);console.error("%s %d: %s",D,J,U)}}else o[D]=function(){};return o[D]};function p(D,J){var U={seen:[],stylize:l};return arguments.length>=3&&(U.depth=arguments[2]),arguments.length>=4&&(U.colors=arguments[3]),M(J)?U.showHidden=J:J&&r._extend(U,J),x(U.showHidden)&&(U.showHidden=!1),x(U.depth)&&(U.depth=2),x(U.colors)&&(U.colors=!1),x(U.customInspect)&&(U.customInspect=!0),U.colors&&(U.stylize=w),E(U,D,U.depth)}r.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function w(D,J){var U=p.styles[J];return U?"\x1B["+p.colors[U][0]+"m"+D+"\x1B["+p.colors[U][1]+"m":D}function l(D,J){return D}function S(D){var J={};return D.forEach(function(U,z){J[U]=!0}),J}function E(D,J,U){if(D.customInspect&&J&&j(J.inspect)&&J.inspect!==r.inspect&&!(J.constructor&&J.constructor.prototype===J)){var z=J.inspect(U,D);return $(z)||(z=E(D,z,U)),z}var N=v(D,J);if(N)return N;var Z=Object.keys(J),ie=S(Z);if(D.showHidden&&(Z=Object.getOwnPropertyNames(J)),d(J)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return T(J);if(Z.length===0){if(j(J)){var ve=J.name?": "+J.name:"";return D.stylize("[Function"+ve+"]","special")}if(A(J))return D.stylize(RegExp.prototype.toString.call(J),"regexp");if(b(J))return D.stylize(Date.prototype.toString.call(J),"date");if(d(J))return T(J)}var be="",Ne=!1,_e=["{","}"];if(O(J)&&(Ne=!0,_e=["[","]"]),j(J)){var Je=J.name?": "+J.name:"";be=" [Function"+Je+"]"}if(A(J)&&(be=" "+RegExp.prototype.toString.call(J)),b(J)&&(be=" "+Date.prototype.toUTCString.call(J)),d(J)&&(be=" "+T(J)),Z.length===0&&(!Ne||J.length==0))return _e[0]+be+_e[1];if(U<0)return A(J)?D.stylize(RegExp.prototype.toString.call(J),"regexp"):D.stylize("[Object]","special");D.seen.push(J);var Le;return Ne?Le=u(D,J,U,ie,Z):Le=Z.map(function(Ze){return c(D,J,U,ie,Ze,Ne)}),D.seen.pop(),C(Le,be,_e)}function v(D,J){if(x(J))return D.stylize("undefined","undefined");if($(J)){var U="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(U,"string")}if(k(J))return D.stylize(""+J,"number");if(M(J))return D.stylize(""+J,"boolean");if(h(J))return D.stylize("null","null")}function T(D){return"["+Error.prototype.toString.call(D)+"]"}function u(D,J,U,z,N){for(var Z=[],ie=0,ve=J.length;ie<ve;++ie)he(J,String(ie))?Z.push(c(D,J,U,z,String(ie),!0)):Z.push("");return N.forEach(function(be){be.match(/^\d+$/)||Z.push(c(D,J,U,z,be,!0))}),Z}function c(D,J,U,z,N,Z){var ie,ve,be;if(be=Object.getOwnPropertyDescriptor(J,N)||{value:J[N]},be.get?be.set?ve=D.stylize("[Getter/Setter]","special"):ve=D.stylize("[Getter]","special"):be.set&&(ve=D.stylize("[Setter]","special")),he(z,N)||(ie="["+N+"]"),ve||(D.seen.indexOf(be.value)<0?(h(U)?ve=E(D,be.value,null):ve=E(D,be.value,U-1),ve.indexOf(`
`)>-1&&(Z?ve=ve.split(`
`).map(function(Ne){return"  "+Ne}).join(`
`).substr(2):ve=`
`+ve.split(`
`).map(function(Ne){return"   "+Ne}).join(`
`))):ve=D.stylize("[Circular]","special")),x(ie)){if(Z&&N.match(/^\d+$/))return ve;ie=JSON.stringify(""+N),ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ie=ie.substr(1,ie.length-2),ie=D.stylize(ie,"name")):(ie=ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ie=D.stylize(ie,"string"))}return ie+": "+ve}function C(D,J,U){var z=D.reduce(function(N,Z){return Z.indexOf(`
`)>=0,N+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return z>60?U[0]+(J===""?"":J+`
 `)+" "+D.join(`,
  `)+" "+U[1]:U[0]+J+" "+D.join(", ")+" "+U[1]}function O(D){return Array.isArray(D)}r.isArray=O;function M(D){return typeof D=="boolean"}r.isBoolean=M;function h(D){return D===null}r.isNull=h;function g(D){return D==null}r.isNullOrUndefined=g;function k(D){return typeof D=="number"}r.isNumber=k;function $(D){return typeof D=="string"}r.isString=$;function Y(D){return typeof D=="symbol"}r.isSymbol=Y;function x(D){return D===void 0}r.isUndefined=x;function A(D){return I(D)&&H(D)==="[object RegExp]"}r.isRegExp=A;function I(D){return typeof D=="object"&&D!==null}r.isObject=I;function b(D){return I(D)&&H(D)==="[object Date]"}r.isDate=b;function d(D){return I(D)&&(H(D)==="[object Error]"||D instanceof Error)}r.isError=d;function j(D){return typeof D=="function"}r.isFunction=j;function V(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}r.isPrimitive=V,r.isBuffer=e("./support/isBuffer");function H(D){return Object.prototype.toString.call(D)}function q(D){return D<10?"0"+D.toString(10):D.toString(10)}var G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ee(){var D=new Date,J=[q(D.getHours()),q(D.getMinutes()),q(D.getSeconds())].join(":");return[D.getDate(),G[D.getMonth()],J].join(" ")}r.log=function(){console.log("%s - %s",ee(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(D,J){if(!J||!I(J))return D;for(var U=Object.keys(J),z=U.length;z--;)D[U[z]]=J[U[z]];return D};function he(D,J){return Object.prototype.hasOwnProperty.call(D,J)}},{"./support/isBuffer":90,inherits:89}],92:[function(e,t,r){(function(n,o){typeof r=="object"&&typeof t<"u"?o(r):typeof define=="function"&&define.amd?define(["exports"],o):(n=typeof globalThis<"u"?globalThis:n||self,o(n.Diff={}))})(this,(function(n){function o(){}o.prototype={diff:function(i,f){var m,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B=W.callback;typeof W=="function"&&(B=W,W={});var R=this;function te(Ae){return Ae=R.postProcess(Ae,W),B?(setTimeout(function(){B(Ae)},0),!0):Ae}i=this.castInput(i,W),f=this.castInput(f,W),i=this.removeEmpty(this.tokenize(i,W)),f=this.removeEmpty(this.tokenize(f,W));var ne=f.length,pe=i.length,re=1,me=ne+pe;W.maxEditLength!=null&&(me=Math.min(me,W.maxEditLength));var ke=(m=W.timeout)!==null&&m!==void 0?m:1/0,Se=Date.now()+ke,Te=[{oldPos:-1,lastComponent:void 0}],$e=this.extractCommon(Te[0],f,i,0,W);if(Te[0].oldPos+1>=pe&&$e+1>=ne)return te(a(R,Te[0].lastComponent,f,i,R.useLongestToken));var Ye=-1/0,Ve=1/0;function Xe(){for(var Ae=Math.max(Ye,-re);Ae<=Math.min(Ve,re);Ae+=2){var Qe=void 0,tt=Te[Ae-1],Re=Te[Ae+1];tt&&(Te[Ae-1]=void 0);var pt=!1;if(Re){var qe=Re.oldPos-Ae;pt=Re&&0<=qe&&qe<ne}var Ue=tt&&tt.oldPos+1<pe;if(!pt&&!Ue){Te[Ae]=void 0;continue}if(!Ue||pt&&tt.oldPos<Re.oldPos?Qe=R.addToPath(Re,!0,!1,0,W):Qe=R.addToPath(tt,!1,!0,1,W),$e=R.extractCommon(Qe,f,i,Ae,W),Qe.oldPos+1>=pe&&$e+1>=ne)return te(a(R,Qe.lastComponent,f,i,R.useLongestToken));Te[Ae]=Qe,Qe.oldPos+1>=pe&&(Ve=Math.min(Ve,Ae-1)),$e+1>=ne&&(Ye=Math.max(Ye,Ae+1))}re++}if(B)(function Ae(){setTimeout(function(){if(re>me||Date.now()>Se)return B();Xe()||Ae()},0)})();else for(;re<=me&&Date.now()<=Se;){var ot=Xe();if(ot)return ot}},addToPath:function(i,f,m,W,B){var R=i.lastComponent;return R&&!B.oneChangePerToken&&R.added===f&&R.removed===m?{oldPos:i.oldPos+W,lastComponent:{count:R.count+1,added:f,removed:m,previousComponent:R.previousComponent}}:{oldPos:i.oldPos+W,lastComponent:{count:1,added:f,removed:m,previousComponent:R}}},extractCommon:function(i,f,m,W,B){for(var R=f.length,te=m.length,ne=i.oldPos,pe=ne-W,re=0;pe+1<R&&ne+1<te&&this.equals(m[ne+1],f[pe+1],B);)pe++,ne++,re++,B.oneChangePerToken&&(i.lastComponent={count:1,previousComponent:i.lastComponent,added:!1,removed:!1});return re&&!B.oneChangePerToken&&(i.lastComponent={count:re,previousComponent:i.lastComponent,added:!1,removed:!1}),i.oldPos=ne,pe},equals:function(i,f,m){return m.comparator?m.comparator(i,f):i===f||m.ignoreCase&&i.toLowerCase()===f.toLowerCase()},removeEmpty:function(i){for(var f=[],m=0;m<i.length;m++)i[m]&&f.push(i[m]);return f},castInput:function(i){return i},tokenize:function(i){return Array.from(i)},join:function(i){return i.join("")},postProcess:function(i){return i}};function a(s,i,f,m,W){for(var B=[],R;i;)B.push(i),R=i.previousComponent,delete i.previousComponent,i=R;B.reverse();for(var te=0,ne=B.length,pe=0,re=0;te<ne;te++){var me=B[te];if(me.removed)me.value=s.join(m.slice(re,re+me.count)),re+=me.count;else{if(!me.added&&W){var ke=f.slice(pe,pe+me.count);ke=ke.map(function(Se,Te){var $e=m[re+Te];return $e.length>Se.length?$e:Se}),me.value=s.join(ke)}else me.value=s.join(f.slice(pe,pe+me.count));pe+=me.count,me.added||(re+=me.count)}}return B}var p=new o;function w(s,i,f){return p.diff(s,i,f)}function l(s,i){var f;for(f=0;f<s.length&&f<i.length;f++)if(s[f]!=i[f])return s.slice(0,f);return s.slice(0,f)}function S(s,i){var f;if(!s||!i||s[s.length-1]!=i[i.length-1])return"";for(f=0;f<s.length&&f<i.length;f++)if(s[s.length-(f+1)]!=i[i.length-(f+1)])return s.slice(-f);return s.slice(-f)}function E(s,i,f){if(s.slice(0,i.length)!=i)throw Error("string ".concat(JSON.stringify(s)," doesn't start with prefix ").concat(JSON.stringify(i),"; this is a bug"));return f+s.slice(i.length)}function v(s,i,f){if(!i)return s+f;if(s.slice(-i.length)!=i)throw Error("string ".concat(JSON.stringify(s)," doesn't end with suffix ").concat(JSON.stringify(i),"; this is a bug"));return s.slice(0,-i.length)+f}function T(s,i){return E(s,i,"")}function u(s,i){return v(s,i,"")}function c(s,i){return i.slice(0,C(s,i))}function C(s,i){var f=0;s.length>i.length&&(f=s.length-i.length);var m=i.length;s.length<i.length&&(m=s.length);var W=Array(m),B=0;W[0]=0;for(var R=1;R<m;R++){for(i[R]==i[B]?W[R]=W[B]:W[R]=B;B>0&&i[R]!=i[B];)B=W[B];i[R]==i[B]&&B++}B=0;for(var te=f;te<s.length;te++){for(;B>0&&s[te]!=i[B];)B=W[B];s[te]==i[B]&&B++}return B}function O(s){return s.includes(`\r
`)&&!s.startsWith(`
`)&&!s.match(/[^\r]\n/)}function M(s){return!s.includes(`\r
`)&&s.includes(`
`)}var h="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",g=new RegExp("[".concat(h,"]+|\\s+|[^").concat(h,"]"),"ug"),k=new o;k.equals=function(s,i,f){return f.ignoreCase&&(s=s.toLowerCase(),i=i.toLowerCase()),s.trim()===i.trim()},k.tokenize=function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f;if(i.intlSegmenter){if(i.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');f=Array.from(i.intlSegmenter.segment(s),function(B){return B.segment})}else f=s.match(g)||[];var m=[],W=null;return f.forEach(function(B){/\s/.test(B)?W==null?m.push(B):m.push(m.pop()+B):/\s/.test(W)?m[m.length-1]==W?m.push(m.pop()+B):m.push(W+B):m.push(B),W=B}),m},k.join=function(s){return s.map(function(i,f){return f==0?i:i.replace(/^\s+/,"")}).join("")},k.postProcess=function(s,i){if(!s||i.oneChangePerToken)return s;var f=null,m=null,W=null;return s.forEach(function(B){B.added?m=B:B.removed?W=B:((m||W)&&Y(f,W,m,B),f=B,m=null,W=null)}),(m||W)&&Y(f,W,m,null),s};function $(s,i,f){return f?.ignoreWhitespace!=null&&!f.ignoreWhitespace?A(s,i,f):k.diff(s,i,f)}function Y(s,i,f,m){if(i&&f){var W=i.value.match(/^\s*/)[0],B=i.value.match(/\s*$/)[0],R=f.value.match(/^\s*/)[0],te=f.value.match(/\s*$/)[0];if(s){var ne=l(W,R);s.value=v(s.value,R,ne),i.value=T(i.value,ne),f.value=T(f.value,ne)}if(m){var pe=S(B,te);m.value=E(m.value,te,pe),i.value=u(i.value,pe),f.value=u(f.value,pe)}}else if(f)s&&(f.value=f.value.replace(/^\s*/,"")),m&&(m.value=m.value.replace(/^\s*/,""));else if(s&&m){var re=m.value.match(/^\s*/)[0],me=i.value.match(/^\s*/)[0],ke=i.value.match(/\s*$/)[0],Se=l(re,me);i.value=T(i.value,Se);var Te=S(T(re,Se),ke);i.value=u(i.value,Te),m.value=E(m.value,re,Te),s.value=v(s.value,re,re.slice(0,re.length-Te.length))}else if(m){var $e=m.value.match(/^\s*/)[0],Ye=i.value.match(/\s*$/)[0],Ve=c(Ye,$e);i.value=u(i.value,Ve)}else if(s){var Xe=s.value.match(/\s*$/)[0],ot=i.value.match(/^\s*/)[0],Ae=c(Xe,ot);i.value=T(i.value,Ae)}}var x=new o;x.tokenize=function(s){var i=new RegExp("(\\r?\\n)|[".concat(h,"]+|[^\\S\\n\\r]+|[^").concat(h,"]"),"ug");return s.match(i)||[]};function A(s,i,f){return x.diff(s,i,f)}function I(s,i){if(typeof s=="function")i.callback=s;else if(s)for(var f in s)s.hasOwnProperty(f)&&(i[f]=s[f]);return i}var b=new o;b.tokenize=function(s,i){i.stripTrailingCr&&(s=s.replace(/\r\n/g,`
`));var f=[],m=s.split(/(\n|\r\n)/);m[m.length-1]||m.pop();for(var W=0;W<m.length;W++){var B=m[W];W%2&&!i.newlineIsToken?f[f.length-1]+=B:f.push(B)}return f},b.equals=function(s,i,f){return f.ignoreWhitespace?((!f.newlineIsToken||!s.includes(`
`))&&(s=s.trim()),(!f.newlineIsToken||!i.includes(`
`))&&(i=i.trim())):f.ignoreNewlineAtEof&&!f.newlineIsToken&&(s.endsWith(`
`)&&(s=s.slice(0,-1)),i.endsWith(`
`)&&(i=i.slice(0,-1))),o.prototype.equals.call(this,s,i,f)};function d(s,i,f){return b.diff(s,i,f)}function j(s,i,f){var m=I(f,{ignoreWhitespace:!0});return b.diff(s,i,m)}var V=new o;V.tokenize=function(s){return s.split(/(\S.+?[.!?])(?=\s+|$)/)};function H(s,i,f){return V.diff(s,i,f)}var q=new o;q.tokenize=function(s){return s.split(/([{}:;,]|\s+)/)};function G(s,i,f){return q.diff(s,i,f)}function ee(s,i){var f=Object.keys(s);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(s);i&&(m=m.filter(function(W){return Object.getOwnPropertyDescriptor(s,W).enumerable})),f.push.apply(f,m)}return f}function he(s){for(var i=1;i<arguments.length;i++){var f=arguments[i]!=null?arguments[i]:{};i%2?ee(Object(f),!0).forEach(function(m){z(s,m,f[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(f)):ee(Object(f)).forEach(function(m){Object.defineProperty(s,m,Object.getOwnPropertyDescriptor(f,m))})}return s}function D(s,i){if(typeof s!="object"||!s)return s;var f=s[Symbol.toPrimitive];if(f!==void 0){var m=f.call(s,i);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}function J(s){var i=D(s,"string");return typeof i=="symbol"?i:i+""}function U(s){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},U(s)}function z(s,i,f){return i=J(i),i in s?Object.defineProperty(s,i,{value:f,enumerable:!0,configurable:!0,writable:!0}):s[i]=f,s}function N(s){return Z(s)||ie(s)||ve(s)||Ne()}function Z(s){if(Array.isArray(s))return be(s)}function ie(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function ve(s,i){if(s){if(typeof s=="string")return be(s,i);var f=Object.prototype.toString.call(s).slice(8,-1);if(f==="Object"&&s.constructor&&(f=s.constructor.name),f==="Map"||f==="Set")return Array.from(s);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return be(s,i)}}function be(s,i){(i==null||i>s.length)&&(i=s.length);for(var f=0,m=new Array(i);f<i;f++)m[f]=s[f];return m}function Ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=new o;_e.useLongestToken=!0,_e.tokenize=b.tokenize,_e.castInput=function(s,i){var f=i.undefinedReplacement,m=i.stringifyReplacer,W=m===void 0?function(B,R){return typeof R>"u"?f:R}:m;return typeof s=="string"?s:JSON.stringify(Le(s,null,null,W),W,"  ")},_e.equals=function(s,i,f){return o.prototype.equals.call(_e,s.replace(/,([\r\n])/g,"$1"),i.replace(/,([\r\n])/g,"$1"),f)};function Je(s,i,f){return _e.diff(s,i,f)}function Le(s,i,f,m,W){i=i||[],f=f||[],m&&(s=m(W,s));var B;for(B=0;B<i.length;B+=1)if(i[B]===s)return f[B];var R;if(Object.prototype.toString.call(s)==="[object Array]"){for(i.push(s),R=new Array(s.length),f.push(R),B=0;B<s.length;B+=1)R[B]=Le(s[B],i,f,m,W);return i.pop(),f.pop(),R}if(s&&s.toJSON&&(s=s.toJSON()),U(s)==="object"&&s!==null){i.push(s),R={},f.push(R);var te=[],ne;for(ne in s)Object.prototype.hasOwnProperty.call(s,ne)&&te.push(ne);for(te.sort(),B=0;B<te.length;B+=1)ne=te[B],R[ne]=Le(s[ne],i,f,m,ne);i.pop(),f.pop()}else R=s;return R}var Ze=new o;Ze.tokenize=function(s){return s.slice()},Ze.join=Ze.removeEmpty=function(s){return s};function Ct(s,i,f){return Ze.diff(s,i,f)}function Ie(s){return Array.isArray(s)?s.map(Ie):he(he({},s),{},{hunks:s.hunks.map(function(i){return he(he({},i),{},{lines:i.lines.map(function(f,m){var W;return f.startsWith("\\")||f.endsWith("\r")||(W=i.lines[m+1])!==null&&W!==void 0&&W.startsWith("\\")?f:f+"\r"})})})})}function Ke(s){return Array.isArray(s)?s.map(Ke):he(he({},s),{},{hunks:s.hunks.map(function(i){return he(he({},i),{},{lines:i.lines.map(function(f){return f.endsWith("\r")?f.substring(0,f.length-1):f})})})})}function yt(s){return Array.isArray(s)||(s=[s]),!s.some(function(i){return i.hunks.some(function(f){return f.lines.some(function(m){return!m.startsWith("\\")&&m.endsWith("\r")})})})}function ft(s){return Array.isArray(s)||(s=[s]),s.some(function(i){return i.hunks.some(function(f){return f.lines.some(function(m){return m.endsWith("\r")})})})&&s.every(function(i){return i.hunks.every(function(f){return f.lines.every(function(m,W){var B;return m.startsWith("\\")||m.endsWith("\r")||((B=f.lines[W+1])===null||B===void 0?void 0:B.startsWith("\\"))})})})}function P(s){var i=s.split(/\n/),f=[],m=0;function W(){var te={};for(f.push(te);m<i.length;){var ne=i[m];if(/^(\-\-\-|\+\+\+|@@)\s/.test(ne))break;var pe=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(ne);pe&&(te.index=pe[1]),m++}for(B(te),B(te),te.hunks=[];m<i.length;){var re=i[m];if(/^(Index:\s|diff\s|\-\-\-\s|\+\+\+\s|===================================================================)/.test(re))break;if(/^@@/.test(re))te.hunks.push(R());else{if(re)throw new Error("Unknown line "+(m+1)+" "+JSON.stringify(re));m++}}}function B(te){var ne=/^(---|\+\+\+)\s+(.*)\r?$/.exec(i[m]);if(ne){var pe=ne[1]==="---"?"old":"new",re=ne[2].split("	",2),me=re[0].replace(/\\\\/g,"\\");/^".*"$/.test(me)&&(me=me.substr(1,me.length-2)),te[pe+"FileName"]=me,te[pe+"Header"]=(re[1]||"").trim(),m++}}function R(){var te=m,ne=i[m++],pe=ne.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),re={oldStart:+pe[1],oldLines:typeof pe[2]>"u"?1:+pe[2],newStart:+pe[3],newLines:typeof pe[4]>"u"?1:+pe[4],lines:[]};re.oldLines===0&&(re.oldStart+=1),re.newLines===0&&(re.newStart+=1);for(var me=0,ke=0;m<i.length&&(ke<re.oldLines||me<re.newLines||(Se=i[m])!==null&&Se!==void 0&&Se.startsWith("\\"));m++){var Se,Te=i[m].length==0&&m!=i.length-1?" ":i[m][0];if(Te==="+"||Te==="-"||Te===" "||Te==="\\")re.lines.push(i[m]),Te==="+"?me++:Te==="-"?ke++:Te===" "&&(me++,ke++);else throw new Error("Hunk at line ".concat(te+1," contained invalid line ").concat(i[m]))}if(!me&&re.newLines===1&&(re.newLines=0),!ke&&re.oldLines===1&&(re.oldLines=0),me!==re.newLines)throw new Error("Added line count did not match for hunk at line "+(te+1));if(ke!==re.oldLines)throw new Error("Removed line count did not match for hunk at line "+(te+1));return re}for(;m<i.length;)W();return f}function F(s,i,f){var m=!0,W=!1,B=!1,R=1;return function te(){if(m&&!B){if(W?R++:m=!1,s+R<=f)return s+R;B=!0}if(!W)return B||(m=!0),i<=s-R?s-R++:(W=!0,te())}}function X(s,i){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof i=="string"&&(i=P(i)),Array.isArray(i)){if(i.length>1)throw new Error("applyPatch only works with a single input.");i=i[0]}(f.autoConvertLineEndings||f.autoConvertLineEndings==null)&&(O(s)&&yt(i)?i=Ie(i):M(s)&&ft(i)&&(i=Ke(i)));var m=s.split(`
`),W=i.hunks,B=f.compareLine||function(dt,De,ht,st){return De===st},R=f.fuzzFactor||0,te=0;if(R<0||!Number.isInteger(R))throw new Error("fuzzFactor must be a non-negative integer");if(!W.length)return s;for(var ne="",pe=!1,re=!1,me=0;me<W[W.length-1].lines.length;me++){var ke=W[W.length-1].lines[me];ke[0]=="\\"&&(ne[0]=="+"?pe=!0:ne[0]=="-"&&(re=!0)),ne=ke}if(pe){if(re){if(!R&&m[m.length-1]=="")return!1}else if(m[m.length-1]=="")m.pop();else if(!R)return!1}else if(re){if(m[m.length-1]!="")m.push("");else if(!R)return!1}function Se(dt,De,ht){for(var st=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,kt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ut=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],nt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,_t=0,un=!1;st<dt.length;st++){var Bt=dt[st],Wt=Bt.length>0?Bt[0]:" ",fn=Bt.length>0?Bt.substr(1):Bt;if(Wt==="-")if(B(De+1,m[De],Wt,fn))De++,_t=0;else return!ht||m[De]==null?null:(ut[nt]=m[De],Se(dt,De+1,ht-1,st,!1,ut,nt+1));if(Wt==="+"){if(!kt)return null;ut[nt]=fn,nt++,_t=0,un=!0}if(Wt===" ")if(_t++,ut[nt]=m[De],B(De+1,m[De],Wt,fn))nt++,kt=!0,un=!1,De++;else return un||!ht?null:m[De]&&(Se(dt,De+1,ht-1,st+1,!1,ut,nt+1)||Se(dt,De+1,ht-1,st,!1,ut,nt+1))||Se(dt,De,ht-1,st+1,!1,ut,nt)}return nt-=_t,De-=_t,ut.length=nt,{patchedLines:ut,oldLineLastI:De-1}}for(var Te=[],$e=0,Ye=0;Ye<W.length;Ye++){for(var Ve=W[Ye],Xe=void 0,ot=m.length-Ve.oldLines+R,Ae=void 0,Qe=0;Qe<=R;Qe++){Ae=Ve.oldStart+$e-1;for(var tt=F(Ae,te,ot);Ae!==void 0&&(Xe=Se(Ve.lines,Ae,Qe),!Xe);Ae=tt());if(Xe)break}if(!Xe)return!1;for(var Re=te;Re<Ae;Re++)Te.push(m[Re]);for(var pt=0;pt<Xe.patchedLines.length;pt++){var qe=Xe.patchedLines[pt];Te.push(qe)}te=Xe.oldLineLastI+1,$e=Ae+1-Ve.oldStart}for(var Ue=te;Ue<m.length;Ue++)Te.push(m[Ue]);return Te.join(`
`)}function oe(s,i){typeof s=="string"&&(s=P(s));var f=0;function m(){var W=s[f++];if(!W)return i.complete();i.loadFile(W,function(B,R){if(B)return i.complete(B);var te=X(R,W,i);i.patched(W,te,function(ne){if(ne)return i.complete(ne);m()})})}m()}function y(s,i,f,m,W,B,R){if(R||(R={}),typeof R=="function"&&(R={callback:R}),typeof R.context>"u"&&(R.context=4),R.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(R.callback){var te=R,ne=te.callback;d(f,m,he(he({},R),{},{callback:function(me){var ke=pe(me);ne(ke)}}))}else return pe(d(f,m,R));function pe(re){if(!re)return;re.push({value:"",lines:[]});function me(pt){return pt.map(function(qe){return" "+qe})}for(var ke=[],Se=0,Te=0,$e=[],Ye=1,Ve=1,Xe=function(){var qe=re[ot],Ue=qe.lines||de(qe.value);if(qe.lines=Ue,qe.added||qe.removed){var dt;if(!Se){var De=re[ot-1];Se=Ye,Te=Ve,De&&($e=R.context>0?me(De.lines.slice(-R.context)):[],Se-=$e.length,Te-=$e.length)}(dt=$e).push.apply(dt,N(Ue.map(function(nt){return(qe.added?"+":"-")+nt}))),qe.added?Ve+=Ue.length:Ye+=Ue.length}else{if(Se)if(Ue.length<=R.context*2&&ot<re.length-2){var ht;(ht=$e).push.apply(ht,N(me(Ue)))}else{var st,kt=Math.min(Ue.length,R.context);(st=$e).push.apply(st,N(me(Ue.slice(0,kt))));var ut={oldStart:Se,oldLines:Ye-Se+kt,newStart:Te,newLines:Ve-Te+kt,lines:$e};ke.push(ut),Se=0,Te=0,$e=[]}Ye+=Ue.length,Ve+=Ue.length}},ot=0;ot<re.length;ot++)Xe();for(var Ae=0,Qe=ke;Ae<Qe.length;Ae++)for(var tt=Qe[Ae],Re=0;Re<tt.lines.length;Re++)tt.lines[Re].endsWith(`
`)?tt.lines[Re]=tt.lines[Re].slice(0,-1):(tt.lines.splice(Re+1,0,"\\ No newline at end of file"),Re++);return{oldFileName:s,newFileName:i,oldHeader:W,newHeader:B,hunks:ke}}}function ae(s){if(Array.isArray(s))return s.map(ae).join(`
`);var i=[];s.oldFileName==s.newFileName&&i.push("Index: "+s.oldFileName),i.push("==================================================================="),i.push("--- "+s.oldFileName+(typeof s.oldHeader>"u"?"":"	"+s.oldHeader)),i.push("+++ "+s.newFileName+(typeof s.newHeader>"u"?"":"	"+s.newHeader));for(var f=0;f<s.hunks.length;f++){var m=s.hunks[f];m.oldLines===0&&(m.oldStart-=1),m.newLines===0&&(m.newStart-=1),i.push("@@ -"+m.oldStart+","+m.oldLines+" +"+m.newStart+","+m.newLines+" @@"),i.push.apply(i,m.lines)}return i.join(`
`)+`
`}function ye(s,i,f,m,W,B,R){var te;if(typeof R=="function"&&(R={callback:R}),(te=R)!==null&&te!==void 0&&te.callback){var pe=R,re=pe.callback;y(s,i,f,m,W,B,he(he({},R),{},{callback:function(ke){ke?re(ae(ke)):re()}}))}else{var ne=y(s,i,f,m,W,B,R);return ne?ae(ne):void 0}}function fe(s,i,f,m,W,B){return ye(s,s,i,f,m,W,B)}function de(s){var i=s.endsWith(`
`),f=s.split(`
`).map(function(m){return m+`
`});return i?f.pop():f.push(f.pop().slice(0,-1)),f}function ce(s,i){return s.length!==i.length?!1:Q(s,i)}function Q(s,i){if(i.length>s.length)return!1;for(var f=0;f<i.length;f++)if(i[f]!==s[f])return!1;return!0}function se(s){var i=ln(s.lines),f=i.oldLines,m=i.newLines;f!==void 0?s.oldLines=f:delete s.oldLines,m!==void 0?s.newLines=m:delete s.newLines}function le(s,i,f){s=ge(s,f),i=ge(i,f);var m={};(s.index||i.index)&&(m.index=s.index||i.index),(s.newFileName||i.newFileName)&&(xe(s)?xe(i)?(m.oldFileName=Me(m,s.oldFileName,i.oldFileName),m.newFileName=Me(m,s.newFileName,i.newFileName),m.oldHeader=Me(m,s.oldHeader,i.oldHeader),m.newHeader=Me(m,s.newHeader,i.newHeader)):(m.oldFileName=s.oldFileName,m.newFileName=s.newFileName,m.oldHeader=s.oldHeader,m.newHeader=s.newHeader):(m.oldFileName=i.oldFileName||s.oldFileName,m.newFileName=i.newFileName||s.newFileName,m.oldHeader=i.oldHeader||s.oldHeader,m.newHeader=i.newHeader||s.newHeader)),m.hunks=[];for(var W=0,B=0,R=0,te=0;W<s.hunks.length||B<i.hunks.length;){var ne=s.hunks[W]||{oldStart:1/0},pe=i.hunks[B]||{oldStart:1/0};if(Fe(ne,pe))m.hunks.push(Oe(ne,R)),W++,te+=ne.newLines-ne.oldLines;else if(Fe(pe,ne))m.hunks.push(Oe(pe,te)),B++,R+=pe.newLines-pe.oldLines;else{var re={oldStart:Math.min(ne.oldStart,pe.oldStart),oldLines:0,newStart:Math.min(ne.newStart+R,pe.oldStart+te),newLines:0,lines:[]};ze(re,ne.oldStart,ne.lines,pe.oldStart,pe.lines),B++,W++,m.hunks.push(re)}}return m}function ge(s,i){if(typeof s=="string"){if(/^@@/m.test(s)||/^Index:/m.test(s))return P(s)[0];if(!i)throw new Error("Must provide a base reference or pass in a patch");return y(void 0,void 0,i,s)}return s}function xe(s){return s.newFileName&&s.newFileName!==s.oldFileName}function Me(s,i,f){return i===f?i:(s.conflict=!0,{mine:i,theirs:f})}function Fe(s,i){return s.oldStart<i.oldStart&&s.oldStart+s.oldLines<i.oldStart}function Oe(s,i){return{oldStart:s.oldStart,oldLines:s.oldLines,newStart:s.newStart+i,newLines:s.newLines,lines:s.lines}}function ze(s,i,f,m,W){var B={offset:i,lines:f,index:0},R={offset:m,lines:W,index:0};for(K(s,B,R),K(s,R,B);B.index<B.lines.length&&R.index<R.lines.length;){var te=B.lines[B.index],ne=R.lines[R.index];if((te[0]==="-"||te[0]==="+")&&(ne[0]==="-"||ne[0]==="+"))it(s,B,R);else if(te[0]==="+"&&ne[0]===" "){var pe;(pe=s.lines).push.apply(pe,N(we(B)))}else if(ne[0]==="+"&&te[0]===" "){var re;(re=s.lines).push.apply(re,N(we(R)))}else te[0]==="-"&&ne[0]===" "?Ge(s,B,R):ne[0]==="-"&&te[0]===" "?Ge(s,R,B,!0):te===ne?(s.lines.push(te),B.index++,R.index++):L(s,we(B),we(R))}ue(s,B),ue(s,R),se(s)}function it(s,i,f){var m=we(i),W=we(f);if(ct(m)&&ct(W)){if(Q(m,W)&&lt(f,m,m.length-W.length)){var B;(B=s.lines).push.apply(B,N(m));return}else if(Q(W,m)&&lt(i,W,W.length-m.length)){var R;(R=s.lines).push.apply(R,N(W));return}}else if(ce(m,W)){var te;(te=s.lines).push.apply(te,N(m));return}L(s,m,W)}function Ge(s,i,f,m){var W=we(i),B=at(f,W);if(B.merged){var R;(R=s.lines).push.apply(R,N(B.merged))}else L(s,m?B:W,m?W:B)}function L(s,i,f){s.conflict=!0,s.lines.push({conflict:!0,mine:i,theirs:f})}function K(s,i,f){for(;i.offset<f.offset&&i.index<i.lines.length;){var m=i.lines[i.index++];s.lines.push(m),i.offset++}}function ue(s,i){for(;i.index<i.lines.length;){var f=i.lines[i.index++];s.lines.push(f)}}function we(s){for(var i=[],f=s.lines[s.index][0];s.index<s.lines.length;){var m=s.lines[s.index];if(f==="-"&&m[0]==="+"&&(f="+"),f===m[0])i.push(m),s.index++;else break}return i}function at(s,i){for(var f=[],m=[],W=0,B=!1,R=!1;W<i.length&&s.index<s.lines.length;){var te=s.lines[s.index],ne=i[W];if(ne[0]==="+")break;if(B=B||te[0]!==" ",m.push(ne),W++,te[0]==="+")for(R=!0;te[0]==="+";)f.push(te),te=s.lines[++s.index];ne.substr(1)===te.substr(1)?(f.push(te),s.index++):R=!0}if((i[W]||"")[0]==="+"&&B&&(R=!0),R)return f;for(;W<i.length;)m.push(i[W++]);return{merged:m,changes:f}}function ct(s){return s.reduce(function(i,f){return i&&f[0]==="-"},!0)}function lt(s,i,f){for(var m=0;m<f;m++){var W=i[i.length-f+m].substr(1);if(s.lines[s.index+m]!==" "+W)return!1}return s.index+=f,!0}function ln(s){var i=0,f=0;return s.forEach(function(m){if(typeof m!="string"){var W=ln(m.mine),B=ln(m.theirs);i!==void 0&&(W.oldLines===B.oldLines?i+=W.oldLines:i=void 0),f!==void 0&&(W.newLines===B.newLines?f+=W.newLines:f=void 0)}else f!==void 0&&(m[0]==="+"||m[0]===" ")&&f++,i!==void 0&&(m[0]==="-"||m[0]===" ")&&i++}),{oldLines:i,newLines:f}}function $n(s){return Array.isArray(s)?s.map($n).reverse():he(he({},s),{},{oldFileName:s.newFileName,oldHeader:s.newHeader,newFileName:s.oldFileName,newHeader:s.oldHeader,hunks:s.hunks.map(function(i){return{oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(function(f){return f.startsWith("-")?"+".concat(f.slice(1)):f.startsWith("+")?"-".concat(f.slice(1)):f})}})})}function So(s){for(var i=[],f,m,W=0;W<s.length;W++)f=s[W],f.added?m=1:f.removed?m=-1:m=0,i.push([m,f.value]);return i}function ko(s){for(var i=[],f=0;f<s.length;f++){var m=s[f];m.added?i.push("<ins>"):m.removed&&i.push("<del>"),i.push(jo(m.value)),m.added?i.push("</ins>"):m.removed&&i.push("</del>")}return i.join("")}function jo(s){var i=s;return i=i.replace(/&/g,"&amp;"),i=i.replace(/</g,"&lt;"),i=i.replace(/>/g,"&gt;"),i=i.replace(/"/g,"&quot;"),i}n.Diff=o,n.applyPatch=X,n.applyPatches=oe,n.canonicalize=Le,n.convertChangesToDMP=So,n.convertChangesToXML=ko,n.createPatch=fe,n.createTwoFilesPatch=ye,n.diffArrays=Ct,n.diffChars=w,n.diffCss=G,n.diffJson=Je,n.diffLines=d,n.diffSentences=H,n.diffTrimmedLines=j,n.diffWords=$,n.diffWordsWithSpace=A,n.formatPatch=ae,n.merge=le,n.parsePatch=P,n.reversePatch=$n,n.structuredPatch=y}))},{}],93:[function(e,t,r){var n="Expected a function",o="__lodash_hash_undefined__",a="[object Function]",p="[object GeneratorFunction]",w="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/,E=/^\./,v=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/[\\^$.*+?()[\]{}|]/g,u=/\\(\\)?/g,c=/^\[object .+?Constructor\]$/,C=typeof global=="object"&&global&&global.Object===Object&&global,O=typeof self=="object"&&self&&self.Object===Object&&self,M=C||O||Function("return this")();function h(L,K){return L?.[K]}function g(L){var K=!1;if(L!=null&&typeof L.toString!="function")try{K=!!(L+"")}catch{}return K}var k=Array.prototype,$=Function.prototype,Y=Object.prototype,x=M["__core-js_shared__"],A=(function(){var L=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""})(),I=$.toString,b=Y.hasOwnProperty,d=Y.toString,j=RegExp("^"+I.call(b).replace(T,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=M.Symbol,H=k.splice,q=ae(M,"Map"),G=ae(Object,"create"),ee=V?V.prototype:void 0,he=ee?ee.toString:void 0;function D(L){var K=-1,ue=L?L.length:0;for(this.clear();++K<ue;){var we=L[K];this.set(we[0],we[1])}}function J(){this.__data__=G?G(null):{}}function U(L){return this.has(L)&&delete this.__data__[L]}function z(L){var K=this.__data__;if(G){var ue=K[L];return ue===o?void 0:ue}return b.call(K,L)?K[L]:void 0}function N(L){var K=this.__data__;return G?K[L]!==void 0:b.call(K,L)}function Z(L,K){var ue=this.__data__;return ue[L]=G&&K===void 0?o:K,this}D.prototype.clear=J,D.prototype.delete=U,D.prototype.get=z,D.prototype.has=N,D.prototype.set=Z;function ie(L){var K=-1,ue=L?L.length:0;for(this.clear();++K<ue;){var we=L[K];this.set(we[0],we[1])}}function ve(){this.__data__=[]}function be(L){var K=this.__data__,ue=ft(K,L);if(ue<0)return!1;var we=K.length-1;return ue==we?K.pop():H.call(K,ue,1),!0}function Ne(L){var K=this.__data__,ue=ft(K,L);return ue<0?void 0:K[ue][1]}function _e(L){return ft(this.__data__,L)>-1}function Je(L,K){var ue=this.__data__,we=ft(ue,L);return we<0?ue.push([L,K]):ue[we][1]=K,this}ie.prototype.clear=ve,ie.prototype.delete=be,ie.prototype.get=Ne,ie.prototype.has=_e,ie.prototype.set=Je;function Le(L){var K=-1,ue=L?L.length:0;for(this.clear();++K<ue;){var we=L[K];this.set(we[0],we[1])}}function Ze(){this.__data__={hash:new D,map:new(q||ie),string:new D}}function Ct(L){return y(this,L).delete(L)}function Ie(L){return y(this,L).get(L)}function Ke(L){return y(this,L).has(L)}function yt(L,K){return y(this,L).set(L,K),this}Le.prototype.clear=Ze,Le.prototype.delete=Ct,Le.prototype.get=Ie,Le.prototype.has=Ke,Le.prototype.set=yt;function ft(L,K){for(var ue=L.length;ue--;)if(ge(L[ue][0],K))return ue;return-1}function P(L,K){K=ye(K,L)?[K]:oe(K);for(var ue=0,we=K.length;L!=null&&ue<we;)L=L[Q(K[ue++])];return ue&&ue==we?L:void 0}function F(L){if(!Fe(L)||de(L))return!1;var K=Me(L)||g(L)?j:c;return K.test(se(L))}function X(L){if(typeof L=="string")return L;if(ze(L))return he?he.call(L):"";var K=L+"";return K=="0"&&1/L==-1/0?"-0":K}function oe(L){return xe(L)?L:ce(L)}function y(L,K){var ue=L.__data__;return fe(K)?ue[typeof K=="string"?"string":"hash"]:ue.map}function ae(L,K){var ue=h(L,K);return F(ue)?ue:void 0}function ye(L,K){if(xe(L))return!1;var ue=typeof L;return ue=="number"||ue=="symbol"||ue=="boolean"||L==null||ze(L)?!0:S.test(L)||!l.test(L)||K!=null&&L in Object(K)}function fe(L){var K=typeof L;return K=="string"||K=="number"||K=="symbol"||K=="boolean"?L!=="__proto__":L===null}function de(L){return!!A&&A in L}var ce=le(function(L){L=it(L);var K=[];return E.test(L)&&K.push(""),L.replace(v,function(ue,we,at,ct){K.push(at?ct.replace(u,"$1"):we||ue)}),K});function Q(L){if(typeof L=="string"||ze(L))return L;var K=L+"";return K=="0"&&1/L==-1/0?"-0":K}function se(L){if(L!=null){try{return I.call(L)}catch{}try{return L+""}catch{}}return""}function le(L,K){if(typeof L!="function"||K&&typeof K!="function")throw new TypeError(n);var ue=function(){var we=arguments,at=K?K.apply(this,we):we[0],ct=ue.cache;if(ct.has(at))return ct.get(at);var lt=L.apply(this,we);return ue.cache=ct.set(at,lt),lt};return ue.cache=new(le.Cache||Le),ue}le.Cache=Le;function ge(L,K){return L===K||L!==L&&K!==K}var xe=Array.isArray;function Me(L){var K=Fe(L)?d.call(L):"";return K==a||K==p}function Fe(L){var K=typeof L;return!!L&&(K=="object"||K=="function")}function Oe(L){return!!L&&typeof L=="object"}function ze(L){return typeof L=="symbol"||Oe(L)&&d.call(L)==w}function it(L){return L==null?"":X(L)}function Ge(L,K,ue){var we=L==null?void 0:P(L,K);return we===void 0?ue:we}t.exports=Ge},{}],94:[function(e,t,r){t.exports={stdout:!1,stderr:!1}},{}],95:[function(e,t,r){(function(n,o){typeof r=="object"&&typeof t<"u"?t.exports=o():typeof define=="function"&&define.amd?define(o):n.typeDetect=o()})(this,(function(){var n=typeof Promise=="function",o=typeof self=="object"?self:global,a=typeof Symbol<"u",p=typeof Map<"u",w=typeof Set<"u",l=typeof WeakMap<"u",S=typeof WeakSet<"u",E=typeof DataView<"u",v=a&&typeof Symbol.iterator<"u",T=a&&typeof Symbol.toStringTag<"u",u=w&&typeof Set.prototype.entries=="function",c=p&&typeof Map.prototype.entries=="function",C=u&&Object.getPrototypeOf(new Set().entries()),O=c&&Object.getPrototypeOf(new Map().entries()),M=v&&typeof Array.prototype[Symbol.iterator]=="function",h=M&&Object.getPrototypeOf([][Symbol.iterator]()),g=v&&typeof String.prototype[Symbol.iterator]=="function",k=g&&Object.getPrototypeOf(""[Symbol.iterator]()),$=8,Y=-1;function x(A){var I=typeof A;if(I!=="object")return I;if(A===null)return"null";if(A===o)return"global";if(Array.isArray(A)&&(T===!1||!(Symbol.toStringTag in A)))return"Array";if(typeof window=="object"&&window!==null){if(typeof window.location=="object"&&A===window.location)return"Location";if(typeof window.document=="object"&&A===window.document)return"Document";if(typeof window.navigator=="object"){if(typeof window.navigator.mimeTypes=="object"&&A===window.navigator.mimeTypes)return"MimeTypeArray";if(typeof window.navigator.plugins=="object"&&A===window.navigator.plugins)return"PluginArray"}if((typeof window.HTMLElement=="function"||typeof window.HTMLElement=="object")&&A instanceof window.HTMLElement){if(A.tagName==="BLOCKQUOTE")return"HTMLQuoteElement";if(A.tagName==="TD")return"HTMLTableDataCellElement";if(A.tagName==="TH")return"HTMLTableHeaderCellElement"}}var b=T&&A[Symbol.toStringTag];if(typeof b=="string")return b;var d=Object.getPrototypeOf(A);return d===RegExp.prototype?"RegExp":d===Date.prototype?"Date":n&&d===Promise.prototype?"Promise":w&&d===Set.prototype?"Set":p&&d===Map.prototype?"Map":S&&d===WeakSet.prototype?"WeakSet":l&&d===WeakMap.prototype?"WeakMap":E&&d===DataView.prototype?"DataView":p&&d===O?"Map Iterator":w&&d===C?"Set Iterator":M&&d===h?"Array Iterator":g&&d===k?"String Iterator":d===null?"Object":Object.prototype.toString.call(A).slice($,Y)}return x}))},{}]},{},[2]);Ee.leakThreshold;Ee.assert;Ee.getFakes;Ee.createStubInstance;Ee.inject;Ee.mock;Ee.reset;Ee.resetBehavior;Ee.resetHistory;Ee.restore;Ee.restoreContext;Ee.replace;Ee.define;Ee.replaceGetter;Ee.replaceSetter;const Lr=Ee.spy,_=Ee.stub;Ee.fake;Ee.useFakeTimers;Ee.verify;Ee.verifyAndRestore;Ee.createSandbox;Ee.match;Ee.restoreObject;Ee.expectation;Ee.timers;Ee.addBehavior;Ee.promise;function Mr(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(o){o(r)}),(n=e.get("*"))&&n.slice().map(function(o){o(t,r)})}}}var Fr=(e=>(e.External="EXTERNAL",e.Internal="INTERNAL",e))(Fr||{}),Nr=(e=>(e.Everyone="EVERYONE",e.Editor="EDITOR",e))(Nr||{}),_r=typeof global=="object"&&global&&global.Object===Object&&global,Fo=typeof self=="object"&&self&&self.Object===Object&&self,wt=_r||Fo||Function("return this")(),At=wt.Symbol;function No(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var mt=Array.isArray,Br=Object.prototype,_o=Br.hasOwnProperty,Bo=Br.toString,zt=At?At.toStringTag:void 0;function Wo(e){var t=_o.call(e,zt),r=e[zt];try{e[zt]=void 0;var n=!0}catch{}var o=Bo.call(e);return n&&(t?e[zt]=r:delete e[zt]),o}var zo=Object.prototype,Ro=zo.toString;function Uo(e){return Ro.call(e)}var Ho="[object Null]",Go="[object Undefined]",Fn=At?At.toStringTag:void 0;function Ft(e){return e==null?e===void 0?Go:Ho:Fn&&Fn in Object(e)?Wo(e):Uo(e)}function Mt(e){return e!=null&&typeof e=="object"}var Vo="[object Symbol]";function An(e){return typeof e=="symbol"||Mt(e)&&Ft(e)==Vo}var Nn=At?At.prototype:void 0,_n=Nn?Nn.toString:void 0;function Wr(e){if(typeof e=="string")return e;if(mt(e))return No(e,Wr)+"";if(An(e))return _n?_n.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Kt(e){return e==null?"":Wr(e)}function Jo(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}function Zo(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Jo(e,t,r)}var Ko="\\ud800-\\udfff",Yo="\\u0300-\\u036f",Xo="\\ufe20-\\ufe2f",Qo="\\u20d0-\\u20ff",qo=Yo+Xo+Qo,es="\\ufe0e\\ufe0f",ts="\\u200d",ns=RegExp("["+ts+Ko+qo+es+"]");function zr(e){return ns.test(e)}function rs(e){return e.split("")}var Rr="\\ud800-\\udfff",os="\\u0300-\\u036f",ss="\\ufe20-\\ufe2f",is="\\u20d0-\\u20ff",as=os+ss+is,cs="\\ufe0e\\ufe0f",ls="["+Rr+"]",gn="["+as+"]",vn="\\ud83c[\\udffb-\\udfff]",us="(?:"+gn+"|"+vn+")",Ur="[^"+Rr+"]",Hr="(?:\\ud83c[\\udde6-\\uddff]){2}",Gr="[\\ud800-\\udbff][\\udc00-\\udfff]",fs="\\u200d",Vr=us+"?",Jr="["+cs+"]?",ps="(?:"+fs+"(?:"+[Ur,Hr,Gr].join("|")+")"+Jr+Vr+")*",ds=Jr+Vr+ps,hs="(?:"+[Ur+gn+"?",gn,Hr,Gr,ls].join("|")+")",ms=RegExp(vn+"(?="+vn+")|"+hs+ds,"g");function ys(e){return e.match(ms)||[]}function gs(e){return zr(e)?ys(e):rs(e)}function vs(e){return function(t){t=Kt(t);var r=zr(t)?gs(t):void 0,n=r?r[0]:t.charAt(0),o=r?Zo(r,1).join(""):t.slice(1);return n[e]()+o}}var ws=vs("toUpperCase");function bs(e){return ws(Kt(e).toLowerCase())}function xs(e,t,r,n){for(var o=-1,a=e==null?0:e.length;++o<a;)r=t(r,e[o],o,e);return r}function Ts(e){return function(t){return e?.[t]}}var As={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Cs=Ts(As),Es=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ss="\\u0300-\\u036f",ks="\\ufe20-\\ufe2f",js="\\u20d0-\\u20ff",Ps=Ss+ks+js,Os="["+Ps+"]",Is=RegExp(Os,"g");function $s(e){return e=Kt(e),e&&e.replace(Es,Cs).replace(Is,"")}var Ds=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Ls(e){return e.match(Ds)||[]}var Ms=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Fs(e){return Ms.test(e)}var Zr="\\ud800-\\udfff",Ns="\\u0300-\\u036f",_s="\\ufe20-\\ufe2f",Bs="\\u20d0-\\u20ff",Ws=Ns+_s+Bs,Kr="\\u2700-\\u27bf",Yr="a-z\\xdf-\\xf6\\xf8-\\xff",zs="\\xac\\xb1\\xd7\\xf7",Rs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Us="\\u2000-\\u206f",Hs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xr="A-Z\\xc0-\\xd6\\xd8-\\xde",Gs="\\ufe0e\\ufe0f",Qr=zs+Rs+Us+Hs,qr="[']",Bn="["+Qr+"]",Vs="["+Ws+"]",eo="\\d+",Js="["+Kr+"]",to="["+Yr+"]",no="[^"+Zr+Qr+eo+Kr+Yr+Xr+"]",Zs="\\ud83c[\\udffb-\\udfff]",Ks="(?:"+Vs+"|"+Zs+")",Ys="[^"+Zr+"]",ro="(?:\\ud83c[\\udde6-\\uddff]){2}",oo="[\\ud800-\\udbff][\\udc00-\\udfff]",Ot="["+Xr+"]",Xs="\\u200d",Wn="(?:"+to+"|"+no+")",Qs="(?:"+Ot+"|"+no+")",zn="(?:"+qr+"(?:d|ll|m|re|s|t|ve))?",Rn="(?:"+qr+"(?:D|LL|M|RE|S|T|VE))?",so=Ks+"?",io="["+Gs+"]?",qs="(?:"+Xs+"(?:"+[Ys,ro,oo].join("|")+")"+io+so+")*",ei="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ti="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ni=io+so+qs,ri="(?:"+[Js,ro,oo].join("|")+")"+ni,oi=RegExp([Ot+"?"+to+"+"+zn+"(?="+[Bn,Ot,"$"].join("|")+")",Qs+"+"+Rn+"(?="+[Bn,Ot+Wn,"$"].join("|")+")",Ot+"?"+Wn+"+"+zn,Ot+"+"+Rn,ti,ei,eo,ri].join("|"),"g");function si(e){return e.match(oi)||[]}function ii(e,t,r){return e=Kt(e),t=t,t===void 0?Fs(e)?si(e):Ls(e):e.match(t)||[]}var ai="[']",ci=RegExp(ai,"g");function ao(e){return function(t){return xs(ii($s(t).replace(ci,"")),e,"")}}var li=ao(function(e,t,r){return t=t.toLowerCase(),e+(r?bs(t):t)}),ui=ao(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});function fi(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function Yt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Un=Object.create,pi=(function(){function e(){}return function(t){if(!Yt(t))return{};if(Un)return Un(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})();function di(e){return function(t,r,n){for(var o=-1,a=Object(t),p=n(t),w=p.length;w--;){var l=p[++o];if(r(a[l],l,a)===!1)break}return t}}var hi=di();function mi(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var yi="[object Arguments]";function Hn(e){return Mt(e)&&Ft(e)==yi}var co=Object.prototype,gi=co.hasOwnProperty,vi=co.propertyIsEnumerable,lo=Hn((function(){return arguments})())?Hn:function(e){return Mt(e)&&gi.call(e,"callee")&&!vi.call(e,"callee")};function wi(){return!1}var uo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Gn=uo&&typeof module=="object"&&module&&!module.nodeType&&module,bi=Gn&&Gn.exports===uo,Vn=bi?wt.Buffer:void 0,xi=Vn?Vn.isBuffer:void 0,nn=xi||wi,Ti=9007199254740991,Ai=/^(?:0|[1-9]\d*)$/;function fo(e,t){var r=typeof e;return t=t??Ti,!!t&&(r=="number"||r!="symbol"&&Ai.test(e))&&e>-1&&e%1==0&&e<t}var Ci=9007199254740991;function Cn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ci}var Ei="[object Arguments]",Si="[object Array]",ki="[object Boolean]",ji="[object Date]",Pi="[object Error]",Oi="[object Function]",Ii="[object Map]",$i="[object Number]",Di="[object Object]",Li="[object RegExp]",Mi="[object Set]",Fi="[object String]",Ni="[object WeakMap]",_i="[object ArrayBuffer]",Bi="[object DataView]",Wi="[object Float32Array]",zi="[object Float64Array]",Ri="[object Int8Array]",Ui="[object Int16Array]",Hi="[object Int32Array]",Gi="[object Uint8Array]",Vi="[object Uint8ClampedArray]",Ji="[object Uint16Array]",Zi="[object Uint32Array]",Pe={};Pe[Wi]=Pe[zi]=Pe[Ri]=Pe[Ui]=Pe[Hi]=Pe[Gi]=Pe[Vi]=Pe[Ji]=Pe[Zi]=!0;Pe[Ei]=Pe[Si]=Pe[_i]=Pe[ki]=Pe[Bi]=Pe[ji]=Pe[Pi]=Pe[Oi]=Pe[Ii]=Pe[$i]=Pe[Di]=Pe[Li]=Pe[Mi]=Pe[Fi]=Pe[Ni]=!1;function Ki(e){return Mt(e)&&Cn(e.length)&&!!Pe[Ft(e)]}function Yi(e){return function(t){return e(t)}}var po=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ht=po&&typeof module=="object"&&module&&!module.nodeType&&module,Xi=Ht&&Ht.exports===po,pn=Xi&&_r.process,Jn=(function(){try{var e=Ht&&Ht.require&&Ht.require("util").types;return e||pn&&pn.binding&&pn.binding("util")}catch{}})(),Zn=Jn&&Jn.isTypedArray,En=Zn?Yi(Zn):Ki,Qi=Object.prototype,qi=Qi.hasOwnProperty;function ea(e,t){var r=mt(e),n=!r&&lo(e),o=!r&&!n&&nn(e),a=!r&&!n&&!o&&En(e),p=r||n||o||a,w=p?mi(e.length,String):[],l=w.length;for(var S in e)qi.call(e,S)&&!(p&&(S=="length"||o&&(S=="offset"||S=="parent")||a&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||fo(S,l)))&&w.push(S);return w}var ta=Object.prototype;function na(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ta;return e===r}function ho(e,t){return function(r){return e(t(r))}}var ra=ho(Object.keys,Object),oa=Object.prototype,sa=oa.hasOwnProperty;function ia(e){if(!na(e))return ra(e);var t=[];for(var r in Object(e))sa.call(e,r)&&r!="constructor"&&t.push(r);return t}var aa="[object AsyncFunction]",ca="[object Function]",la="[object GeneratorFunction]",ua="[object Proxy]";function Sn(e){if(!Yt(e))return!1;var t=Ft(e);return t==ca||t==la||t==aa||t==ua}function fa(e){return e!=null&&Cn(e.length)&&!Sn(e)}function kn(e){return fa(e)?ea(e):ia(e)}function pa(e,t){return e&&hi(e,t,kn)}function da(){this.__data__=[],this.size=0}function mo(e,t){return e===t||e!==e&&t!==t}function sn(e,t){for(var r=e.length;r--;)if(mo(e[r][0],t))return r;return-1}var ha=Array.prototype,ma=ha.splice;function ya(e){var t=this.__data__,r=sn(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ma.call(t,r,1),--this.size,!0}function ga(e){var t=this.__data__,r=sn(t,e);return r<0?void 0:t[r][1]}function va(e){return sn(this.__data__,e)>-1}function wa(e,t){var r=this.__data__,n=sn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function bt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bt.prototype.clear=da;bt.prototype.delete=ya;bt.prototype.get=ga;bt.prototype.has=va;bt.prototype.set=wa;function ba(){this.__data__=new bt,this.size=0}function xa(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Ta(e){return this.__data__.get(e)}function Aa(e){return this.__data__.has(e)}var dn=wt["__core-js_shared__"],Kn=(function(){var e=/[^.]+$/.exec(dn&&dn.keys&&dn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function Ca(e){return!!Kn&&Kn in e}var Ea=Function.prototype,Sa=Ea.toString;function St(e){if(e!=null){try{return Sa.call(e)}catch{}try{return e+""}catch{}}return""}var ka=/[\\^$.*+?()[\]{}|]/g,ja=/^\[object .+?Constructor\]$/,Pa=Function.prototype,Oa=Object.prototype,Ia=Pa.toString,$a=Oa.hasOwnProperty,Da=RegExp("^"+Ia.call($a).replace(ka,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function La(e){if(!Yt(e)||Ca(e))return!1;var t=Sn(e)?Da:ja;return t.test(St(e))}function Ma(e,t){return e?.[t]}function Nt(e,t){var r=Ma(e,t);return La(r)?r:void 0}var Vt=Nt(wt,"Map"),Jt=Nt(Object,"create");function Fa(){this.__data__=Jt?Jt(null):{},this.size=0}function Na(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _a="__lodash_hash_undefined__",Ba=Object.prototype,Wa=Ba.hasOwnProperty;function za(e){var t=this.__data__;if(Jt){var r=t[e];return r===_a?void 0:r}return Wa.call(t,e)?t[e]:void 0}var Ra=Object.prototype,Ua=Ra.hasOwnProperty;function Ha(e){var t=this.__data__;return Jt?t[e]!==void 0:Ua.call(t,e)}var Ga="__lodash_hash_undefined__";function Va(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Jt&&t===void 0?Ga:t,this}function Et(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Et.prototype.clear=Fa;Et.prototype.delete=Na;Et.prototype.get=za;Et.prototype.has=Ha;Et.prototype.set=Va;function Ja(){this.size=0,this.__data__={hash:new Et,map:new(Vt||bt),string:new Et}}function Za(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function an(e,t){var r=e.__data__;return Za(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Ka(e){var t=an(this,e).delete(e);return this.size-=t?1:0,t}function Ya(e){return an(this,e).get(e)}function Xa(e){return an(this,e).has(e)}function Qa(e,t){var r=an(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function xt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xt.prototype.clear=Ja;xt.prototype.delete=Ka;xt.prototype.get=Ya;xt.prototype.has=Xa;xt.prototype.set=Qa;var qa=200;function ec(e,t){var r=this.__data__;if(r instanceof bt){var n=r.__data__;if(!Vt||n.length<qa-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new xt(n)}return r.set(e,t),this.size=r.size,this}function vt(e){var t=this.__data__=new bt(e);this.size=t.size}vt.prototype.clear=ba;vt.prototype.delete=xa;vt.prototype.get=Ta;vt.prototype.has=Aa;vt.prototype.set=ec;var tc="__lodash_hash_undefined__";function nc(e){return this.__data__.set(e,tc),this}function rc(e){return this.__data__.has(e)}function rn(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new xt;++t<r;)this.add(e[t])}rn.prototype.add=rn.prototype.push=nc;rn.prototype.has=rc;function oc(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function sc(e,t){return e.has(t)}var ic=1,ac=2;function yo(e,t,r,n,o,a){var p=r&ic,w=e.length,l=t.length;if(w!=l&&!(p&&l>w))return!1;var S=a.get(e),E=a.get(t);if(S&&E)return S==t&&E==e;var v=-1,T=!0,u=r&ac?new rn:void 0;for(a.set(e,t),a.set(t,e);++v<w;){var c=e[v],C=t[v];if(n)var O=p?n(C,c,v,t,e,a):n(c,C,v,e,t,a);if(O!==void 0){if(O)continue;T=!1;break}if(u){if(!oc(t,function(M,h){if(!sc(u,h)&&(c===M||o(c,M,r,n,a)))return u.push(h)})){T=!1;break}}else if(!(c===C||o(c,C,r,n,a))){T=!1;break}}return a.delete(e),a.delete(t),T}var Yn=wt.Uint8Array;function cc(e){var t=-1,r=Array(e.size);return e.forEach(function(n,o){r[++t]=[o,n]}),r}function lc(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var uc=1,fc=2,pc="[object Boolean]",dc="[object Date]",hc="[object Error]",mc="[object Map]",yc="[object Number]",gc="[object RegExp]",vc="[object Set]",wc="[object String]",bc="[object Symbol]",xc="[object ArrayBuffer]",Tc="[object DataView]",Xn=At?At.prototype:void 0,hn=Xn?Xn.valueOf:void 0;function Ac(e,t,r,n,o,a,p){switch(r){case Tc:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xc:return!(e.byteLength!=t.byteLength||!a(new Yn(e),new Yn(t)));case pc:case dc:case yc:return mo(+e,+t);case hc:return e.name==t.name&&e.message==t.message;case gc:case wc:return e==t+"";case mc:var w=cc;case vc:var l=n&uc;if(w||(w=lc),e.size!=t.size&&!l)return!1;var S=p.get(e);if(S)return S==t;n|=fc,p.set(e,t);var E=yo(w(e),w(t),n,o,a,p);return p.delete(e),E;case bc:if(hn)return hn.call(e)==hn.call(t)}return!1}function Cc(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function Ec(e,t,r){var n=t(e);return mt(e)?n:Cc(n,r(e))}function Sc(e,t){for(var r=-1,n=e==null?0:e.length,o=0,a=[];++r<n;){var p=e[r];t(p,r,e)&&(a[o++]=p)}return a}function kc(){return[]}var jc=Object.prototype,Pc=jc.propertyIsEnumerable,Qn=Object.getOwnPropertySymbols,Oc=Qn?function(e){return e==null?[]:(e=Object(e),Sc(Qn(e),function(t){return Pc.call(e,t)}))}:kc;function qn(e){return Ec(e,kn,Oc)}var Ic=1,$c=Object.prototype,Dc=$c.hasOwnProperty;function Lc(e,t,r,n,o,a){var p=r&Ic,w=qn(e),l=w.length,S=qn(t),E=S.length;if(l!=E&&!p)return!1;for(var v=l;v--;){var T=w[v];if(!(p?T in t:Dc.call(t,T)))return!1}var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var C=!0;a.set(e,t),a.set(t,e);for(var O=p;++v<l;){T=w[v];var M=e[T],h=t[T];if(n)var g=p?n(h,M,T,t,e,a):n(M,h,T,e,t,a);if(!(g===void 0?M===h||o(M,h,r,n,a):g)){C=!1;break}O||(O=T=="constructor")}if(C&&!O){var k=e.constructor,$=t.constructor;k!=$&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof $=="function"&&$ instanceof $)&&(C=!1)}return a.delete(e),a.delete(t),C}var wn=Nt(wt,"DataView"),bn=Nt(wt,"Promise"),xn=Nt(wt,"Set"),Tn=Nt(wt,"WeakMap"),er="[object Map]",Mc="[object Object]",tr="[object Promise]",nr="[object Set]",rr="[object WeakMap]",or="[object DataView]",Fc=St(wn),Nc=St(Vt),_c=St(bn),Bc=St(xn),Wc=St(Tn),Tt=Ft;(wn&&Tt(new wn(new ArrayBuffer(1)))!=or||Vt&&Tt(new Vt)!=er||bn&&Tt(bn.resolve())!=tr||xn&&Tt(new xn)!=nr||Tn&&Tt(new Tn)!=rr)&&(Tt=function(e){var t=Ft(e),r=t==Mc?e.constructor:void 0,n=r?St(r):"";if(n)switch(n){case Fc:return or;case Nc:return er;case _c:return tr;case Bc:return nr;case Wc:return rr}return t});var zc=1,sr="[object Arguments]",ir="[object Array]",Xt="[object Object]",Rc=Object.prototype,ar=Rc.hasOwnProperty;function Uc(e,t,r,n,o,a){var p=mt(e),w=mt(t),l=p?ir:Tt(e),S=w?ir:Tt(t);l=l==sr?Xt:l,S=S==sr?Xt:S;var E=l==Xt,v=S==Xt,T=l==S;if(T&&nn(e)){if(!nn(t))return!1;p=!0,E=!1}if(T&&!E)return a||(a=new vt),p||En(e)?yo(e,t,r,n,o,a):Ac(e,t,l,r,n,o,a);if(!(r&zc)){var u=E&&ar.call(e,"__wrapped__"),c=v&&ar.call(t,"__wrapped__");if(u||c){var C=u?e.value():e,O=c?t.value():t;return a||(a=new vt),o(C,O,r,n,a)}}return T?(a||(a=new vt),Lc(e,t,r,n,o,a)):!1}function jn(e,t,r,n,o){return e===t?!0:e==null||t==null||!Mt(e)&&!Mt(t)?e!==e&&t!==t:Uc(e,t,r,n,jn,o)}var Hc=1,Gc=2;function Vc(e,t,r,n){var o=r.length,a=o;if(e==null)return!a;for(e=Object(e);o--;){var p=r[o];if(p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=r[o];var w=p[0],l=e[w],S=p[1];if(p[2]){if(l===void 0&&!(w in e))return!1}else{var E=new vt,v;if(!(v===void 0?jn(S,l,Hc|Gc,n,E):v))return!1}}return!0}function go(e){return e===e&&!Yt(e)}function Jc(e){for(var t=kn(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,go(o)]}return t}function vo(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function Zc(e){var t=Jc(e);return t.length==1&&t[0][2]?vo(t[0][0],t[0][1]):function(r){return r===e||Vc(r,e,t)}}var Kc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yc=/^\w*$/;function Pn(e,t){if(mt(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||An(e)?!0:Yc.test(e)||!Kc.test(e)||t!=null&&e in Object(t)}var Xc="Expected a function";function On(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Xc);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var p=e.apply(this,n);return r.cache=a.set(o,p)||a,p};return r.cache=new(On.Cache||xt),r}On.Cache=xt;var Qc=500;function qc(e){var t=On(e,function(n){return r.size===Qc&&r.clear(),n}),r=t.cache;return t}var el=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tl=/\\(\\)?/g,nl=qc(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(el,function(r,n,o,a){t.push(o?a.replace(tl,"$1"):n||r)}),t});function wo(e,t){return mt(e)?e:Pn(e,t)?[e]:nl(Kt(e))}function cn(e){if(typeof e=="string"||An(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function bo(e,t){t=wo(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[cn(t[r++])];return r&&r==n?e:void 0}function rl(e,t,r){var n=e==null?void 0:bo(e,t);return n===void 0?r:n}function ol(e,t){return e!=null&&t in Object(e)}function sl(e,t,r){t=wo(t,e);for(var n=-1,o=t.length,a=!1;++n<o;){var p=cn(t[n]);if(!(a=e!=null&&r(e,p)))break;e=e[p]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&Cn(o)&&fo(p,o)&&(mt(e)||lo(e)))}function il(e,t){return e!=null&&sl(e,t,ol)}var al=1,cl=2;function ll(e,t){return Pn(e)&&go(t)?vo(cn(e),t):function(r){var n=rl(r,e);return n===void 0&&n===t?il(r,e):jn(t,n,al|cl)}}function ul(e){return e}function fl(e){return function(t){return t?.[e]}}function pl(e){return function(t){return bo(t,e)}}function dl(e){return Pn(e)?fl(cn(e)):pl(e)}function hl(e){return typeof e=="function"?e:e==null?ul:typeof e=="object"?mt(e)?ll(e[0],e[1]):Zc(e):dl(e)}var ml=ho(Object.getPrototypeOf,Object);function yl(e,t,r){var n=mt(e),o=n||nn(e)||En(e);if(t=hl(t),r==null){var a=e&&e.constructor;o?r=n?new a:[]:Yt(e)?r=Sn(a)?pi(ml(e)):{}:r={}}return(o?fi:pa)(e,function(p,w,l){return t(r,p,w,l)}),r}const tn=e=>e&&typeof e=="object"&&!Array.isArray(e),$t=(e,...t)=>{if(t.length===0)return e;const r=t.shift();if(tn(e)&&tn(r))for(const n in r)tn(r[n])?(e[n]||Object.assign(e,{[n]:{}}),$t(e[n],r[n])):Object.assign(e,{[n]:r[n]});return $t(e,...t)},rt=(e,t)=>{const r={camel:li,snake:ui};return yl(e,(n,o,a,p)=>{const w=Array.isArray(p)?a:r[t](a);n[w]=tn(o)||Array.isArray(o)?rt(o,t):o})};class Ut{static with(t){return{id:t,creatorName:"Creator Name",extension:"png",externalUrl:null,fileName:"fileName.png",title:"A title",status:"FINISHED",objectType:"IMAGE",height:480,width:640,genericUrl:"https://generic.url",previewUrl:"https://preview.url",originUrl:"https://origin.url",projectId:23,fileSize:256,fileSizeHumanReadable:"123.45 MB",fileId:"x1x1x1x1x1x1",token:"--token--",projectType:"STYLEGUIDE",revisionId:1,backgroundColor:"rgba(115, 210, 210, 255)",isDownloadProtected:!1}}}class cr{static default(){return{downloadUrl:"dummy-url",signature:"dummy-signature"}}}class He{static red(t=767){return{id:t,name:"Red",sort:1,nameCss:"red",hex:"ff0000",red:255,green:0,blue:0,alpha:255,hue:361,saturation:100,lightness:46,c:0,m:100,y:100,k:0,pantone:null,ral:null,oracal:null,pantoneCoated:null,pantoneUncoated:null,cmykCoated:null,cmykUncoated:null,cmykNewspaper:null,ncs:null,pantoneCp:null,pantonePlastics:null,pantoneTextile:null,hks:null,threeM:null,lab:null}}static yellow(t=768){return{id:t,name:"Yellow",sort:2,nameCss:"yellow",red:255,green:255,blue:0,hex:"ffff00",alpha:255,hue:361,saturation:100,lightness:46,c:0,m:0,y:100,k:0,pantone:null,ral:null,oracal:null,pantoneCoated:null,pantoneUncoated:null,cmykCoated:null,cmykUncoated:null,cmykNewspaper:null,ncs:null,pantoneCp:null,pantonePlastics:null,pantoneTextile:null,hks:null,threeM:null,lab:null}}static green(t=769){return{id:t,name:"Green",sort:3,nameCss:"green",red:0,green:255,blue:0,hex:"00ff00",alpha:255,hue:361,saturation:100,lightness:46,c:100,m:0,y:100,k:0,pantone:null,ral:null,oracal:null,pantoneCoated:null,pantoneUncoated:null,cmykCoated:null,cmykUncoated:null,cmykNewspaper:null,ncs:null,pantoneCp:null,pantonePlastics:null,pantoneTextile:null,hks:null,threeM:null,lab:null}}}class et{static with(t,r="Color Palette Name"){return{id:t,name:r,description:"Color Palette Description",colors:[He.red(),He.yellow(),He.green()]}}}class Dt{static with(t){return{id:t,creator:9,created:"2022-04-04T15:36:36.000+00:00",modifier:9,modified:"2022-04-04T15:36:43.000+00:00",document_id:1,page_id:6,valid_to:null,title:`Document Section Dummy ${t}`,slug:`document-section-dummy-${t}`,sort:1,permanent_link:`/r/document-section-${t}`}}static withFields({id:t,...r}){return{...Dt.with(t??1),...r}}}class gl{static with(t){return{id:t,name:"A template",description:"A description",previewUrl:"https://preview.url",creationFormUri:`/publishing/template/${t}`,projectId:23,pages:[rt({preview_url:"https://preview.url",width:1024,height:768},"camel")]}}}class vl{static with(t){return{id:t,title:"A template",description:"A description",previewUrl:"https://preview.url",projectId:23,height:480,width:640,published:!0}}}class wl{static with(t){return{id:t,name:"Frontify Dummy User",email:"test@frontify.test",created:"2020-01-01T00:00:00.000Z",image:{image:"https://dummy.frontify.test/image.png",original:"https://dummy.frontify.test/original_image.png",x:"10",y:"20",width:"30",height:"40"},organization:"Frontify",role:"user",timezone:"UTC",language:"en"}}}const bl=3452,xl=2341,Tl=4561,lr=345214,Al=({blockSettings:e={},blockAssets:t={},editorState:r=!1,openAssetChooser:n=()=>null,closeAssetChooser:o=()=>null,blockId:a=bl,sectionId:p=xl,projectId:w=lr,isNewlyInserted:l=!1,isAuthenticated:S=!0,user:E=wl.with(Tl),language:v="en",privacySettings:T={assetViewerEnabled:!1,assetDownloadEnabled:!1},blockTemplates:u={},unsubscribe:c=()=>null}={})=>{window.emitter=Lr(Mr()),window.blockSettings??(window.blockSettings={}),window.blockSettings[a]=e;const C={},O={},M={},h={};return{getBlockId:_().returns(a),getSectionId:_().returns(p),getProjectId:_().returns(w),getEditorState:_().returns(r),getBlockSettings:_().resolves(window.blockSettings),getAvailablePalettes:_().resolves([et.with(678,"Palette 1"),et.with(427,"Palette 2"),et.with(679,"Palette 3")]),getColorPalettes:_().resolves([et.with(678,"Palette 1"),et.with(427,"Palette 2"),et.with(679,"Palette 3")]),createColorPalette:_().resolves(et.with(678)),updateColorPalette:_().resolves(et.with(678)),getColorsByIds:_().resolves([He.red(9834),He.green(342),He.yellow(9314)]),getColorsByColorPaletteId:_().resolves([He.red(9834),He.green(342),He.yellow(9314)]),getColorPalettesWithColors:_().resolves([et.with(678,"Palette 1"),et.with(427,"Palette 2"),et.with(679,"Palette 3")]),deleteColorPalette:_().resolves(),getAvailableColors:_().resolves([]),getCurrentLoggedUser:_().resolves(E),downloadColorKit:_().returns(`/api/color/export/${lr}/zip/500`),getAssetById:_().callsFake(g=>Promise.resolve(Ut.with(g))),closeAssetChooser:_().callsFake(()=>{o()}),openAssetChooser:_().callsFake(g=>{n(g)}),getBlockAssets:_().callsFake(()=>Object.entries(t).reduce((g,[k,$])=>{const Y=O[k]??[],x=C[k]??[];return g[k]=[...$.filter(A=>!x.includes(A.id)),...Y.map(A=>Ut.with(A))],g},{})),addAssetIdsToBlockAssetKey:_().callsFake((g,k)=>{O[g]=[...O[g]??[],...k]}),deleteAssetIdsFromBlockAssetKey:_().callsFake((g,k)=>{C[g]=[...C[g]??[],...k]}),getBlockTemplates:_().callsFake(()=>Object.entries(u).reduce((g,[k,$])=>{const Y=h[k]??[],x=M[k]??[];return g[k]=[...$.filter(A=>!x.includes(A.id)),...Y.map(A=>gl.with(A))],g},{})),addTemplateIdsToBlockTemplateKey:_().callsFake((g,k)=>{h[g]=[...h[g]??[],...k]}),deleteTemplateIdsFromBlockTemplateKey:_().callsFake((g,k)=>{M[g]=[...M[g]??[],...k]}),getTranslationLanguage:_().returns(v),getColors:_().resolves([He.red(9834),He.green(342),He.yellow(9314)]),updateColor:_().callsFake(g=>Promise.resolve(He.red(g))),getBulkDownloadBySignature:_().resolves(cr.default()),getBulkDownloadByToken:_().resolves(cr.default()),getPrivacySettings:_().returns(T),api:_().callsFake(g=>{switch(g.name){case"getAssetBulkDownloadToken":return{assetBulkDownloadToken:"token"};case"setAssetIdsByBlockAssetKey":return t[g.payload.key]=g.payload.assetIds.map(k=>Ut.with(k)),Promise.resolve()}throw new Error("Method is not stubbed")}),context:_().callsFake(g=>{if(g===void 0)return{get:()=>[a,p,S]};switch(g){case"blockId":return{get:()=>a};case"sectionId":return{get:()=>p};case"isAuthenticated":return{get:()=>S};case"isNewlyInserted":return{get:()=>l};default:return{get:()=>{throw new Error(`Unknown context key: ${g}`)}}}}),subscribe:_().callsFake((g,k)=>(g==="assetsChosen"?k({assets:[Ut.with(123)]}):g==="templateChosen"&&k({template:vl.with(234)}),c)),getDocumentSectionsByDocumentPageId:_().resolves([Dt.withFields({id:1,title:"Title 1"}),Dt.withFields({id:2,title:"Title 2"}),Dt.withFields({id:3,title:"  "}),Dt.withFields({id:4,title:""})]),closeTemplateChooser:_(),openTemplateChooser:_(),createColor:_().resolves(He.red()),deleteColor:_().resolves(),getTemplateById:_().resolves({}),openAssetViewer:_(),updateBlockSettings:_().resolves(),getAllDocuments:_().resolves(),getUngroupedDocuments:_().resolves(),getDocumentsByDocumentGroupId:_().resolves(),getDocumentGroups:_().resolves(),getDocumentPagesByDocumentId:_().resolves(),getDocumentPagesByDocumentCategoryId:_().resolves(),getDocumentCategoriesByDocumentId:_().resolves(),getUncategorizedDocumentPagesByDocumentId:_().resolves(),getDocumentTargets:_().resolves(),getDocumentPageTargets:_().resolves(),state:_().resolves(),dispatch:_().resolves()}};class Cl{static with(t){return{highlights:[t],type:"BLOCK",object_id:1,page_id:1,page_slug:"page-slug",page_title:"Page Title",page_category_slug:"page-category-slug",block_id:1,document_id:1,document_slug:"document-slug",document_title:"Document Title",guideline_title:"Guideline Title",portal_id:1,portal_token:"portal-token",section_id:null,section_slug:null,section_title:null,color_hex:void 0,project_color_id:void 0}}}class mn{static with(t){return rt(Cl.with(t),"camel")}}const El=234551,Sl=3452,ur=7777,gt=5332,kl=95694,jl=345882,Qt=6456,fr=34532,pr=3455345,dr=2342,hr=2343445,mr=2434,yr=552,gr=1145,vr=32345,yn=147,Pl=258,Ol=369,qt=23442,wr=235345,br=12352,xr=55221,Tr=24324,Ar=3532,Cr=98954,Il=3421,$l=65725,Dl=95934,Ll=2341,Er=653543,Sr=23411,kr=56657,Ml=({editorState:e=!1,brandId:t=El,portalId:r=ur,projectId:n=Sl,pageTemplateSettings:o={},pageTemplateAssets:a={},themeSettings:p={cover:{},documentPage:{},library:{}},themeAssets:w={},language:l="en",openAssetChooser:S=()=>null,closeAssetChooser:E=()=>null}={})=>{window.emitter=Lr(Mr());let v=o,T=p;const u={},c={},C=h=>Object.entries(h).reduce((g,[k,$])=>{const Y=c[k]??[],x=u[k]??[];return g[k]=[...$.filter(A=>!x.includes(A.id)),...Y.map(A=>Ut.with(A))],g},{}),O=()=>C(a),M=()=>C(w);return{getPortalId:_().returns(r),getProjectId:_().returns(n),getEditorState:_().returns(e),getCoverPage:_().resolves(en.with(ur)),getAllDocuments:_().resolves([je.with(Qt),je.with(fr),je.with(pr),je.with(dr),je.with(hr),je.withDocumentGroupId(mr,gt),je.withDocumentGroupId(yr,gt),je.withDocumentGroupId(gr,gt),je.withDocumentGroupId(vr,gt)]),getUngroupedDocuments:_().resolves([je.with(Qt),je.with(fr),je.with(pr),je.with(dr),je.with(hr)]),getDocumentsByDocumentGroupId:_().resolves([je.withDocumentGroupId(mr,gt),je.withDocumentGroupId(yr,gt),je.withDocumentGroupId(gr,gt),je.withDocumentGroupId(vr,gt)]),getDocumentGroups:_().resolves([Pt.with(gt,3),Pt.with(kl,0),Pt.with(jl,2)]),getDocumentPagesByDocumentId:_().resolves([Be.with(qt),Be.with(wr),Be.with(Tr),Be.with(br),Be.with(Ar),Be.with(xr),Be.with(Cr)]),getDocumentPagesByDocumentCategoryId:_().callsFake(h=>Promise.resolve([Be.withFields({id:qt,categoryId:h,sort:1}),Be.withFields({id:wr,categoryId:h,sort:2}),Be.withFields({id:br,categoryId:h,sort:3}),Be.withFields({id:xr,categoryId:h,sort:4})])),getDocumentCategoriesByDocumentId:_().callsFake(h=>Promise.resolve([jt.withDocumentIdAndNumberOfDocumentPages(yn,h,2),jt.withDocumentIdAndNumberOfDocumentPages(Pl,h,0),jt.withDocumentIdAndNumberOfDocumentPages(Ol,h,2)])),getUncategorizedDocumentPagesByDocumentId:_().callsFake(h=>Promise.resolve([Be.withFields({id:Tr,documentId:h,categoryId:null,sort:1}),Be.withFields({id:Ar,documentId:h,categoryId:null,sort:2}),Be.withFields({id:Cr,documentId:h,categoryId:null,sort:3})])),getDocumentSectionsByDocumentPageId:_().resolves([Gt.with(Il),Gt.with($l),Gt.with(Dl)]),getColorPalettes:_().resolves([et.with(678,"Palette 1"),et.with(427,"Palette 2"),et.with(679,"Palette 3")]),getColorsByColorPaletteId:_().resolves([He.red(9834),He.green(342),He.yellow(9314)]),duplicateDocumentPage:_().resolves(Be.with(Ll)),getDocumentTargets:_().resolves(zl.with(Qt)),getDocumentPageTargets:_().resolves(Rl.with(qt)),addAssetIdsToCoverPageTemplateAssetKey:_().callsFake((h,g)=>(c[h]=[...c[h]??[],...g],a)),addAssetIdsToThemeAssetKey:_().callsFake((h,g)=>(c[h]=[...c[h]??[],...g],a)),addAssetIdsToLibraryPageTemplateAssetKey:_().callsFake((h,g,k)=>(c[g]=[...c[g]??[],...k],a)),addAssetIdsToDocumentPageTemplateAssetKey:_().callsFake((h,g,k)=>(c[g]=[...c[g]??[],...k],a)),getCoverPageTemplateAssets:_().callsFake(O),getThemeAssets:_().callsFake(M),getLibraryPageTemplateAssets:_().callsFake(O),getDocumentPageTemplateAssets:_().callsFake(O),deleteAssetIdsFromCoverPageTemplateAssetKey:_().callsFake((h,g)=>{u[h]=[...u[h]??[],...g]}),deleteAssetIdsFromThemeAssetKey:_().callsFake((h,g)=>{u[h]=[...u[h]??[],...g]}),deleteAssetIdsFromLibraryPageTemplateAssetKey:_().callsFake((h,g,k)=>{u[g]=[...u[g]??[],...k]}),deleteAssetIdsFromDocumentPageTemplateAssetKey:_().callsFake((h,g,k)=>{u[g]=[...u[g]??[],...k]}),getCoverPageTemplateSettings:_().resolves(v),getDocumentPageTemplateSettings:_().resolves(v),getLibraryPageTemplateSettings:_().resolves(v),getThemeSettings:_().resolves(T),createLink:_().resolves(je.with(1)),createLibrary:_().resolves(je.with(1)),createStandardDocument:_().resolves(je.with(1)),createDocumentPage:_().resolves(Be.with(1)),createDocumentGroup:_().resolves(Pt.with(1,0)),createDocumentCategory:_().resolves(jt.with(1)),createCoverPage:_().resolves(en.with(1)),updateLink:_().resolves(je.with(1)),updateLibrary:_().resolves(je.with(1)),updateStandardDocument:_().resolves(je.with(1)),updateDocumentPage:_().resolves(Be.with(1)),updateDocumentGroup:_().resolves(Pt.with(1,0)),updateDocumentCategory:_().resolves(jt.with(1)),updateCoverPage:_().resolves(en.with(1)),updateLegacyCoverPage:_().resolves(en.withLegacy(1)),updateBrandportalLink:_().resolves(jr.with()),updateCoverPageTemplateSettings:_().callsFake(h=>{v=$t(v,h)}),updateDocumentPageTemplateSettings:_().callsFake(h=>{v=$t(v,h)}),updateLibraryPageTemplateSettings:_().callsFake(h=>{v=$t(v,h)}),updateThemeSettings:_().callsFake(h=>{T=$t(T,h)}),deleteCoverPage:_().resolves(),deleteDocumentCategory:_().resolves(),deleteDocumentGroup:_().resolves(),deleteDocumentPage:_().resolves(),deleteLibrary:_().resolves(),deleteLink:_().resolves(),deleteStandardDocument:_().resolves(),getBrandId:_().returns(t),getBrandportalLink:_().resolves(jr.with()),getTranslationLanguage:_().returns(l),moveDocument:_().resolves(je.with(Qt)),moveDocumentCategory:_().resolves(jt.with(yn)),moveDocumentGroup:_().resolves(Pt.with(yn,0)),moveDocumentPage:_().resolves(Be.with(qt)),openNavigationManager:_(),updateDocumentPageTargets:_().resolves(Or.with([Er,Sr,kr])),updateDocumentTargets:_().resolves(Or.with([Er,Sr,kr])),searchInGuideline:_().callsFake(h=>Promise.resolve([mn.with(`${h}-1`),mn.with(`${h}-1`),mn.with(`${h}-3`)])),closeAssetChooser:_().callsFake(()=>{E()}),openAssetChooser:_().callsFake(h=>{S(h)}),api:_().resolves(),state:_().resolves(),context:_().resolves(),subscribe:_().resolves(),dispatch:_().resolves()}};class Fl{static get(){return{brand_portal:{enabled:!0,label:"Brandportal Link",url:"/url"}}}}class jr{static with(t){return{...rt(Fl.get().brand_portal,"camel"),...t}}}class Nl{static with(t,r="Cover Page Name"){return{template:"hub",document_id:"1",brandhome:{id:t,title:r,active:!0,draft:1,enabled:1,url:`/hub/${t}`,hide_in_nav:!1}}}}class en{static with(t,r="Cover Page Name"){const n=Nl.with(t,r);return{...rt(n.brandhome,"camel"),template:n.template,documentId:n.document_id,draft:!!n.brandhome.draft,enabled:!!n.brandhome.enabled}}static withLegacy(t,r="Legacy Cover Page"){return{brandhome_draft:!0,brandhome_title:r,brandhome_hide_in_nav:!1}}}class Pr{static with(t){return{id:t,creator:9,created:"2022-03-03t15:41:33.000+00:00",modifier:null,modified:null,project_id:345,valid_from:"2022-03-03t15:41:33.000+00:00",valid_to:null,visibility:"private",portal_id:3495,title:`Document ${t}`,slug:`document-${t}`,heading:"Document Dummy heading",subheading:"Document Dummy subHeading",description:null,logo:null,sort:5,lazy:!0,link_type:Fr.Internal,link_url:null,link_settings:null,view_count:0,mode:"DEFAULT",appearance:null,settings:{},logo_file_id:null,logo_settings:[],background_file_id:null,background_settings:[],targets:[],token:"a-dummy-token",permanent_link:`/r/document-${t}`,number_of_document_page_categories:0,number_of_uncategorized_document_pages:0}}}class on{static with(t,r=[]){return{id:t,creator:9,created:"2022-08-15T11:47:47.000+00:00",modifier:null,modified:null,document_id:456,valid_from:"2022-08-15T11:47:47.000+00:00",valid_to:null,title:`Document Category Dummy ${t}`,slug:`document-category-dummy-${t}`,sort:1,number_of_document_pages:r.length}}static withDocumentIdAndNumberOfDocumentPages(t,r,n){return{...on.with(t),document_id:r,number_of_document_pages:n}}}class jt{static with(t){return rt(on.with(t),"camel")}static withDocumentIdAndNumberOfDocumentPages(t,r,n){return rt(on.withDocumentIdAndNumberOfDocumentPages(t,r,n),"camel")}static withFields(t){return{...t}}}class je{static with(t){return rt(Pr.with(t),"camel")}static withDocumentGroupId(t,r){return{...rt(Pr.with(t),"camel"),documentGroupId:r}}static withFields(t){return{...t}}}class _l{static with(t,r=0){return{id:t,creator:9,created:"2022-07-11 14:00:49",modified:"2022-08-15 07:59:28",modifier:9,valid_to:null,project_id:113,portal_id:175,name:`Document Group Dummy ${t}`,sort:1,number_of_documents:r}}}class Pt{static with(t,r=0){return rt(_l.with(t,r),"camel")}static withFields(t){return{...t}}}class In{static with(t){return{id:t,creator:9,created:"2022-08-15T11:47:57.000+00:00",modifier:null,modified:null,document_id:145,category_id:29,parent_id:null,valid_from:"2022-08-15T11:47:57.000+00:00",valid_to:null,title:`Document Page Dummy ${t}`,slug:`document-page-dummy-${t}`,sort:1,link_type:"INTERNAL",link_url:null,view_count:0,visibility:Nr.Everyone,targets:null,permanent_link:`/r/document-page-${t}`}}static withFields(t){return{...In.with(t.id),...t}}}let Be=class xo{static with(t){return rt(In.with(t),"camel")}static withFields(t){return{...xo.with(t.id),...t}}};class Gt{static with(t){return{id:t,title:`Document Section Dummy ${t}`,slug:`document-section-dummy-${t}`,sort:1,permanentLink:`/r/document-section-${t}`}}static withFields({id:t,...r}){return{...Gt.with(t??1),...r}}}class Lt{static target(t){return{checked:!1,disabled:!1,indeterminate:!1,label:String(t),target:{account_id:1,asset_ids:[],created:"2022-06-10T12:35:52.000+00:00",creator:1,description:"Target description",group_ids:[],id:t,modified:null,modifier:null,name:`Target ${t}`,sort:1,total_groups:null,total_links:null,total_users:null,user_ids:[]},value:t}}}class Bl{static with(t){return{appearance:{},background_file_id:null,background_url:null,heading:null,id:t,link_type:null,link_url:null,logo_file_id:null,logo_url:null,mode:null,portal_title:"Portal title",subheading:null,success:!0,targets:{disabled:[],has_selected_targets:!0,targets:[Lt.target(1),Lt.target(2),Lt.target(3)]},title:"Test document"}}}class Wl{static with(t){return{default:!1,disabled:[],has_selected_targets:!0,id:t,success:!0,targets:[Lt.target(1),Lt.target(2),Lt.target(3)]}}}class zl{static with(t){return rt(Bl.with(t).targets,"camel")}}class Rl{static with(t){return rt(Wl.with(t),"camel")}}class Or{static with(t){return{success:!0,data:!0,targets:t}}}var To={exports:{}},Rt={};var Ir;function Ul(){if(Ir)return Rt;Ir=1;var e=It,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function p(w,l,S){var E,v={},T=null,u=null;S!==void 0&&(T=""+S),l.key!==void 0&&(T=""+l.key),l.ref!==void 0&&(u=l.ref);for(E in l)n.call(l,E)&&!a.hasOwnProperty(E)&&(v[E]=l[E]);if(w&&w.defaultProps)for(E in l=w.defaultProps,l)v[E]===void 0&&(v[E]=l[E]);return{$$typeof:t,type:w,key:T,ref:u,props:v,_owner:o.current}}return Rt.Fragment=r,Rt.jsx=p,Rt.jsxs=p,Rt}To.exports=Ul();var Ao=To.exports;function Hl(e,t){const r=Al(t??{}),n=a=>Ao.jsx(e,{appBridge:r,...a}),o=e.displayName||e.name||"Component";return n.displayName=`withAppBridgeBlockStubs(${o})`,[n,r]}function Gl(e,t){const r=Ml(t??{}),n=a=>Ao.jsx(e,{appBridge:r,...a}),o=e.displayName||e.name||"Component";return n.displayName=`withAppBridgeThemeStubs(${o})`,[n,r]}var Vl=(function(e){var t,r;function n(a){var p;return(p=e.call(this,a)||this).state={hasError:!1,error:null},p}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.getDerivedStateFromError=function(a){return{hasError:!0,error:a}};var o=n.prototype;return o.componentDidCatch=function(a,p){return this.props.onDidCatch(a,p)},o.render=function(){var a=this.state,p=this.props,w=p.render,l=p.children,S=p.renderError;return a.hasError?S?S({error:a.error}):null:w?w():l||null},n})(We.PureComponent),Jl=function(e,t){switch(t.type){case"catch":return{didCatch:!0,error:t.error};case"reset":return{didCatch:!1,error:null};default:return e}};function Co(e){var t=We.useReducer(Jl,{didCatch:!1,error:null}),r=t[0],n=t[1],o=We.useRef(null);function a(){return l=function(S,E){n({type:"catch",error:S})},function(S){return It.createElement(Vl,{onDidCatch:l,children:S.children,render:S.render,renderError:S.renderError})};var l}var p,w=We.useCallback(function(){o.current=a(),n({type:"reset"})},[]);return{ErrorBoundary:(p=o.current,p!==null?p:(o.current=a(),o.current)),didCatch:r.didCatch,error:r.error,reset:w}}const Zl=e=>{try{const r=new URL(e).pathname.slice(1).split(".");return r.length===3?r[0]:"DevCustomBlock"}catch{}},Eo=(e,t,r)=>{const[n,o]=We.useState(!0),[a,p]=We.useState(null),w=Zl(t),l=We.useCallback(()=>{const u=document.querySelectorAll(["script[data-app-script]","link[data-app-style]"].join(", "));for(const c of u)c.parentNode?.removeChild(c)},[]),S=We.useCallback(u=>new Promise((c,C)=>{const O=document.createElement("script");O.setAttribute("src",u),O.setAttribute("data-app-script",""),O.onload=()=>c(),O.onerror=()=>C(new Error("Could not load the app script")),document.head.appendChild(O)}),[]),E=We.useCallback(u=>new Promise((c,C)=>{const O=document.createElement("link");O.setAttribute("rel","stylesheet"),O.setAttribute("href",u),O.setAttribute("data-app-style",""),O.onload=()=>c(),O.onerror=()=>C(new Error("Could not load the app style")),document.head.appendChild(O)}),[]);We.useEffect(()=>((async()=>{o(!0);try{await Promise.all([S(t),...r?[E(r)]:[]]),p(null)}catch(c){p(c)}finally{o(!1)}})(),()=>{l()}),[t,r,S,E,l]);const v=We.useMemo(()=>{if(!n&&!a){if(e==="block")return window[w]?.block;if(e==="theme")return window[w]?.templates.cover.default.component;throw new Error("Invalid mode provided. Only 'block' and 'theme' are allowed.")}},[n,a,w,e,window[w]?.[e]]),T=We.useMemo(()=>!n&&!a&&window[w]?.settings,[w,a,n]);return{loading:n,errors:a,App:v,settingsStructure:T}},Kl=({js:e,css:t})=>{const{ErrorBoundary:r,didCatch:n,error:o}=Co(),{isEditing:a,state:p,setSettingsStructure:w}=Zt(),{errors:l,App:S,settingsStructure:E}=Eo("block",e,t),v=We.useMemo(()=>{const[T,u]=Hl(S||(()=>Ce.jsx("div",{})),{blockSettings:p.settings,blockAssets:p.assets,editorState:a});return function(){return Ce.jsx("div",{"data-block":u.context("blockId").get(),className:"block",children:Ce.jsx(T,{})})}},[S,p,a]);return We.useEffect(()=>w(E),[w,E]),n||l?Ce.jsxs("div",{className:"flex flex-col gap-2 text-red-8",children:[Ce.jsx("span",{className:"text-xl",children:"An error has been caught while rendering the block"}),Ce.jsx("span",{children:o?.message??l?.message??"No error message received"})]}):Ce.jsx(r,{children:Ce.jsx(v,{})})},Yl=({js:e,css:t})=>{const{ErrorBoundary:r,didCatch:n,error:o}=Co(),{isEditing:a,setSettingsStructure:p}=Zt(),{errors:w,App:l,settingsStructure:S}=Eo("theme",e,t),E=We.useMemo(()=>{const[v,T]=Gl(l||(()=>Ce.jsx("div",{})),{themeSettings:{cover:{},documentPage:{},library:{}},editorState:a});return T.context.returns({get:()=>({type:"cover"}),subscribe:()=>()=>{}}),function(){return Ce.jsx("div",{className:"theme",children:Ce.jsx(v,{})})}},[l,a]);return We.useEffect(()=>p(S),[p,S]),n||w?Ce.jsxs("div",{className:"flex flex-col gap-2 text-red-8",children:[Ce.jsx("span",{className:"text-xl",children:"An error has been caught while rendering the Theme"}),Ce.jsx("span",{children:o?.message??w?.message??"No error message received"})]}):Ce.jsx(r,{children:Ce.jsx(E,{})})},eu=()=>{const{customFields:e}=Zt();return e?.jsPath?Ce.jsxs(Ce.Fragment,{children:[e.appBridgeMode==="block"?Ce.jsx(Kl,{js:e.jsPath,css:e.cssPath}):null,e.appBridgeMode==="theme"?Ce.jsx(Yl,{js:e.jsPath,css:e.cssPath}):null]}):Ce.jsxs("div",{className:"flex flex-col gap-4",children:[Ce.jsxs("span",{children:["Add some ",Lo[e.appBridgeMode]," data and state to have a preview."]}),e.appBridgeMode==="block"?Ce.jsx("div",{className:"flex gap-4 overflow-x-auto",children:Ce.jsx(Dn,{to:Po,className:"py-2 px-4 inline whitespace-nowrap rounded bg-[#424747] hover:bg-[#2d3232] text-white",title:"Go to example",children:"Example"})}):null,e.appBridgeMode==="theme"?Ce.jsx("div",{className:"flex gap-4 overflow-x-auto",children:Ce.jsx(Dn,{to:"#",className:"py-2 px-4 inline whitespace-nowrap rounded bg-[#424747] hover:bg-[#2d3232] text-white",title:"Go to example",children:"Example (soon)"})}):null]})},Xl=()=>{const{isEditing:e,setIsEditing:t}=Zt(),r=n=>{if(n.key==="e"&&(n.metaKey||n.ctrlKey)&&!n.altKey)return t(!e),!1};We.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}))},$r=navigator.platform.match(/(mac|iphone|ipod|ipad)/i),Dr=e=>e.filter(Boolean).join(" "),tu=()=>{const{isEditing:e,setIsEditing:t}=Zt();return We.useEffect(()=>{document.body.classList[e?"add":"remove"]("editor-enabled")},[e]),Xl(),Ce.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[Ce.jsx("button",{type:"button",className:Dr(["p-2 flex items-center justify-center rounded",e?"hover:bg-[#eaebeb]":"bg-[#424747] text-white"]),onClick:()=>t(!1),title:`Switch to view mode (${$r?"+e":"ctrl+e"})`,children:Ce.jsx("div",{className:"i-octicon-eye-16"})}),Ce.jsx("button",{type:"button",className:Dr(["p-2 flex items-center justify-center rounded",e?"bg-[#424747] text-white":"hover:bg-[#eaebeb]"]),onClick:()=>t(!0),title:`Switch to edit mode (${$r?"+e":"ctrl+e"})`,children:Ce.jsx("div",{className:"i-octicon-pencil-16"})})]})};export{eu as C,tu as V,Lo as a,Zt as u};
//# sourceMappingURL=ViewEditToggle--C4TE-FQ.js.map
